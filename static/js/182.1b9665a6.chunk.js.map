{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/objectIdUtils.js","../node_modules/@arcgis/core/layers/GraphicsLayer.js","../node_modules/@arcgis/core/layers/MapNotesLayer.js"],"names":["t","n","o","e","attributes","isFinite","Math","max","r","elevationInfo","graphics","p","screenSizePerspectiveEnabled","type","internal","this","removeAll","destroy","add","addMany","remove","removeMany","emit","i","s","c","prototype","a","readOnly","constructOnly","h","F","layers","some","layerDefinition","visibilityField","G","T","name","alias","nullable","editable","_","P","arguments","visibilityMode","sourceLayer","layer","on","item","w","y","u","k","geometryType","geometryTypeJSON","layerId","title","identifyingSymbol","C","toJSON","M","I","R","z","capabilities","operations","supportsMapNotesEditing","featureCollections","featureCollectionJSON","featureCollectionType","legendEnabled","minScale","maxScale","spatialReference","E","WGS84","sublayers","map","id","origin","O","read","items","featureCollection","length","D","xmin","ymin","xmax","ymax","fromJSON","reduce","extent","union","_findSublayer","l","featureSet","find","drawingInfo","renderer","symbol","features","geometry","popupInfo","popupTemplate","push","f","_writeMapNoteSublayer","m","messages","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","Object","assign","d","g","b","S","forEach","_writeMapNote","_normalizeObjectIds","objectIdField","fields","graphic","N","Set","has","L","x","v","J","j","json","origins","write","enabled","target","ignoreOrigin","overridePolicy","Number","nonNullable","value","B"],"mappings":"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","file":"static/js/182.1b9665a6.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=1;function n(t,n){let o=0;for(const r of n){var e;const n=null==(e=r.attributes)?void 0:e[t];\"number\"==typeof n&&isFinite(n)&&(o=Math.max(o,n))}return o}export{n as findLastObjectIdFromFeatures,t as initialObjectId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"./Layer.js\";import{BlendLayer as t}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as i}from\"./mixins/ScaleRangeLayer.js\";import p,{graphicsCollectionProperty as a}from\"../support/GraphicsCollection.js\";import c from\"../symbols/support/ElevationInfo.js\";let n=class extends(t(i(s))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new p,this.screenSizePerspectiveEnabled=!0,this.type=\"graphics\",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit(\"graphic-update\",r)}};r([e({type:c})],n.prototype,\"elevationInfo\",void 0),r([e(a())],n.prototype,\"graphics\",void 0),r([e({type:[\"show\",\"hide\"]})],n.prototype,\"listMode\",void 0),r([e()],n.prototype,\"screenSizePerspectiveEnabled\",void 0),r([e({readOnly:!0})],n.prototype,\"type\",void 0),r([e({constructOnly:!0})],n.prototype,\"internal\",void 0),n=r([o(\"esri.layers.GraphicsLayer\")],n);var h=n;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../Graphic.js\";import\"../symbols.js\";import r from\"../core/Collection.js\";import o from\"../core/Error.js\";import{clone as i}from\"../core/lang.js\";import{isNone as l,isSome as a}from\"../core/maybe.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as s}from\"../core/object.js\";import p from\"../core/Warning.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import{canProjectWithoutEngine as f,isLoaded as d,load as g,project as b}from\"../geometry/projection.js\";import{normalizeCentralMeridian as S}from\"../geometry/support/normalizeUtils.js\";import{equals as h}from\"../geometry/support/spatialReferenceUtils.js\";import O from\"./FeatureLayer.js\";import w from\"./GraphicsLayer.js\";import j from\"./Layer.js\";import{findLastObjectIdFromFeatures as N}from\"./graphics/objectIdUtils.js\";import{BlendLayer as L}from\"./mixins/BlendLayer.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{PortalLayer as J}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as x}from\"./mixins/ScaleRangeLayer.js\";import T from\"./support/Field.js\";import C from\"../symbols/SimpleFillSymbol.js\";import M from\"../symbols/SimpleLineSymbol.js\";import I from\"../symbols/SimpleMarkerSymbol.js\";import R from\"../symbols/TextSymbol.js\";import E from\"../geometry/SpatialReference.js\";import D from\"../geometry/Extent.js\";function F(e){return e.layers.some((e=>null!=e.layerDefinition.visibilityField))}const G=new T({name:\"OBJECTID\",alias:\"OBJECTID\",type:\"oid\",nullable:!1,editable:!1}),_=new T({name:\"title\",alias:\"Title\",type:\"string\",nullable:!0,editable:!0});let P=class extends w{constructor(){super(...arguments),this.visibilityMode=\"inherited\"}initialize(){for(const e of this.graphics)e.sourceLayer=this.layer;this.graphics.on(\"after-add\",(e=>{e.item.sourceLayer=this.layer})),this.graphics.on(\"after-remove\",(e=>{e.item.sourceLayer=null}))}get sublayers(){return this.graphics}};e([y({readOnly:!0})],P.prototype,\"sublayers\",null),e([y()],P.prototype,\"layer\",void 0),e([y({readOnly:!0})],P.prototype,\"visibilityMode\",void 0),P=e([u(\"esri.layers.MapNotesLayer.MapNotesSublayer\")],P);const k=[{geometryType:\"polygon\",geometryTypeJSON:\"esriGeometryPolygon\",layerId:\"polygonLayer\",title:\"Polygons\",identifyingSymbol:(new C).toJSON()},{geometryType:\"polyline\",geometryTypeJSON:\"esriGeometryPolyline\",layerId:\"polylineLayer\",title:\"Polylines\",identifyingSymbol:(new M).toJSON()},{geometryType:\"multipoint\",geometryTypeJSON:\"esriGeometryMultipoint\",layerId:\"multipointLayer\",title:\"Multipoints\",identifyingSymbol:(new I).toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",layerId:\"pointLayer\",title:\"Points\",identifyingSymbol:(new I).toJSON()},{geometryType:\"point\",geometryTypeJSON:\"esriGeometryPoint\",layerId:\"textLayer\",title:\"Text\",identifyingSymbol:(new R).toJSON()}];let z=class extends(L(x(v(J(n(j)))))){constructor(e){super(e),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType=\"notes\",this.legendEnabled=!1,this.minScale=0,this.maxScale=0,this.spatialReference=E.WGS84,this.sublayers=new r(k.map((e=>new P({id:e.layerId,title:e.title,layer:this})))),this.title=\"Map Notes\",this.type=\"map-notes\",this.visibilityMode=\"inherited\"}readCapabilities(e,t,r){return{operations:{supportsMapNotesEditing:!F(t)&&\"portal-item\"!==(null==r?void 0:r.origin)}}}readFeatureCollections(e,t,o){if(!F(t))return null;const i=t.layers.map((e=>{const t=new O;return t.read(e,o),t}));return new r({items:i})}readLegacyfeatureCollectionJSON(e,t){return F(t)?i(t.featureCollection):null}readFullExtent(e,t){if(!t.layers.length)return new D({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:E.WGS84});const r=E.fromJSON(t.layers[0].layerDefinition.spatialReference);return t.layers.reduce(((e,t)=>{const r=t.layerDefinition.extent;return r?D.fromJSON(r).union(e):e}),new D({spatialReference:r}))}readMinScale(e,t){for(const r of t.layers)if(null!=r.layerDefinition.minScale)return r.layerDefinition.minScale;return 0}readMaxScale(e,t){for(const r of t.layers)if(null!=r.layerDefinition.maxScale)return r.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer(\"multipointLayer\")}get pointLayer(){return this._findSublayer(\"pointLayer\")}get polygonLayer(){return this._findSublayer(\"polygonLayer\")}get polylineLayer(){return this._findSublayer(\"polylineLayer\")}readSpatialReference(e,t){return t.layers.length?E.fromJSON(t.layers[0].layerDefinition.spatialReference):E.WGS84}readSublayers(e,o,i){if(F(o))return null;const l=[];for(let r=0;r<o.layers.length;r++){var a;const{layerDefinition:e,featureSet:i}=o.layers[r],n=null!=(a=e.geometryType)?a:i.geometryType,s=k.find((t=>{var r,o,i;return n===t.geometryTypeJSON&&(null==(r=e.drawingInfo)||null==(o=r.renderer)||null==(i=o.symbol)?void 0:i.type)===t.identifyingSymbol.type}));if(s){const r=new P({id:s.layerId,title:e.name,layer:this,graphics:i.features.map((({geometry:e,symbol:r,attributes:o,popupInfo:i})=>t.fromJSON({attributes:o,geometry:e,symbol:r,popupTemplate:i})))});l.push(r)}}return new r(l)}writeSublayers(e,t,r,i){const{minScale:n,maxScale:p}=this;if(l(e))return;const y=e.some((e=>e.graphics.length>0));if(!this.capabilities.operations.supportsMapNotesEditing){var m;if(y)null==i||null==(m=i.messages)||m.push(new o(\"map-notes-layer:editing-not-supported\",\"New map notes cannot be added to this layer\"));return}const u=[];let c=this.spatialReference.toJSON();e:for(const o of e)for(const e of o.graphics)if(a(e.geometry)){c=e.geometry.spatialReference.toJSON();break e}for(const o of k){const t=e.find((e=>o.layerId===e.id));this._writeMapNoteSublayer(u,t,o,n,p,c,i)}s(\"featureCollection.layers\",u,t)}get textLayer(){return this._findSublayer(\"textLayer\")}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Collection\"]},e)),Promise.resolve(this)}read(e,t){\"featureCollection\"in e&&(e=i(e),Object.assign(e,e.featureCollection)),super.read(e,t)}async beforeSave(){if(l(this.sublayers))return;let e=null;const t=[];for(const o of this.sublayers)for(const r of o.graphics)if(a(r.geometry)){const o=r.geometry;e?h(o.spatialReference,e)||(f(o.spatialReference,e)||d()||await g(),r.geometry=b(o,e)):e=o.spatialReference,t.push(r)}const r=await S(t.map((e=>e.geometry)));t.forEach(((e,t)=>e.geometry=r[t]))}_findSublayer(e){var t,r;return l(this.sublayers)?null:null!=(t=null==(r=this.sublayers)?void 0:r.find((t=>t.id===e)))?t:null}_writeMapNoteSublayer(e,t,r,o,a,n,s){const p=[];if(!l(t)){for(const e of t.graphics)this._writeMapNote(p,e,r.geometryType,s);this._normalizeObjectIds(p,G),e.push({layerDefinition:{name:t.title,drawingInfo:{renderer:{type:\"simple\",symbol:i(r.identifyingSymbol)}},geometryType:r.geometryTypeJSON,minScale:o,maxScale:a,objectIdField:\"OBJECTID\",fields:[G.toJSON(),_.toJSON()],spatialReference:n},featureSet:{features:p,geometryType:r.geometryTypeJSON}})}}_writeMapNote(e,t,r,o){if(l(t))return;const{geometry:i,symbol:n,popupTemplate:s}=t;if(l(i))return;var y,m;if(i.type!==r)return void(null==o||null==(y=o.messages)||y.push(new p(\"map-notes-layer:invalid-geometry-type\",`Geometry \"${i.type}\" cannot be saved in \"${r}\" layer`,{graphic:t})));if(l(n))return void(null==o||null==(m=o.messages)||m.push(new p(\"map-notes-layer:no-symbol\",\"Skipping map notes with no symbol\",{graphic:t})));const u={attributes:{...t.attributes},geometry:i.toJSON(),symbol:n.toJSON()};a(s)&&(u.popupInfo=s.toJSON()),e.push(u)}_normalizeObjectIds(e,t){const r=t.name;let o=N(r,e)+1;const i=new Set;for(const l of e){l.attributes||(l.attributes={});const{attributes:e}=l;(null==e[r]||i.has(e[r]))&&(e[r]=o++),i.add(e[r])}}};e([y({readOnly:!0})],z.prototype,\"capabilities\",void 0),e([m([\"portal-item\",\"web-map\"],\"capabilities\",[\"layers\"])],z.prototype,\"readCapabilities\",null),e([y({readOnly:!0})],z.prototype,\"featureCollections\",void 0),e([m([\"web-map\",\"portal-item\"],\"featureCollections\",[\"layers\"])],z.prototype,\"readFeatureCollections\",null),e([y({readOnly:!0,json:{origins:{\"web-map\":{write:{enabled:!0,target:\"featureCollection\"}}}}})],z.prototype,\"featureCollectionJSON\",void 0),e([m([\"web-map\",\"portal-item\"],\"featureCollectionJSON\",[\"featureCollection\"])],z.prototype,\"readLegacyfeatureCollectionJSON\",null),e([y({readOnly:!0,json:{read:!1,write:{enabled:!0,ignoreOrigin:!0}}})],z.prototype,\"featureCollectionType\",void 0),e([y({json:{write:!1}})],z.prototype,\"fullExtent\",void 0),e([m([\"web-map\",\"portal-item\"],\"fullExtent\",[\"layers\"])],z.prototype,\"readFullExtent\",null),e([y({readOnly:!0,json:{origins:{\"web-map\":{write:{target:\"featureCollection.showLegend\",overridePolicy(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],z.prototype,\"legendEnabled\",void 0),e([y({type:[\"show\",\"hide\"]})],z.prototype,\"listMode\",void 0),e([y({type:Number,nonNullable:!0,json:{write:!1}})],z.prototype,\"minScale\",void 0),e([m([\"web-map\",\"portal-item\"],\"minScale\",[\"layers\"])],z.prototype,\"readMinScale\",null),e([y({type:Number,nonNullable:!0,json:{write:!1}})],z.prototype,\"maxScale\",void 0),e([m([\"web-map\",\"portal-item\"],\"maxScale\",[\"layers\"])],z.prototype,\"readMaxScale\",null),e([y({readOnly:!0})],z.prototype,\"multipointLayer\",null),e([y({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],z.prototype,\"operationalLayerType\",void 0),e([y({readOnly:!0})],z.prototype,\"pointLayer\",null),e([y({readOnly:!0})],z.prototype,\"polygonLayer\",null),e([y({readOnly:!0})],z.prototype,\"polylineLayer\",null),e([y({type:E})],z.prototype,\"spatialReference\",void 0),e([m([\"web-map\",\"portal-item\"],\"spatialReference\",[\"layers\"])],z.prototype,\"readSpatialReference\",null),e([y({readOnly:!0,json:{origins:{\"web-map\":{write:{ignoreOrigin:!0}}}}})],z.prototype,\"sublayers\",void 0),e([m(\"web-map\",\"sublayers\",[\"layers\"])],z.prototype,\"readSublayers\",null),e([c(\"web-map\",\"sublayers\")],z.prototype,\"writeSublayers\",null),e([y({readOnly:!0})],z.prototype,\"textLayer\",null),e([y()],z.prototype,\"title\",void 0),e([y({readOnly:!0,json:{read:!1}})],z.prototype,\"type\",void 0),z=e([u(\"esri.layers.MapNotesLayer\")],z);var B=z;export default B;\n"],"sourceRoot":""}