(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[94],{1646:function(e,t,r){},1648:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=1648},1676:function(e,t,r){"use strict";r.r(t);var n=r(43),i=r(654),c=r(1),a=r(731),l=r(678),s=(r(1646),r(1672)),d=r(692),o=r.n(d),b=r(796),u=r(1456),j=r(1666),p=r(847),f=r(1678),h=r(1668),O=r(1674),m=r(1671),x=(r(1649),function(){return window.innerHeight-205||document.documentElement.clientHeight-205||document.body.clientHeight-205});var v=r(18);b.a.assetsPath="./assets";t.default=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),r=t[0],d=t[1],b=Object(c.useRef)(null),g=Object(c.useState)(o()().format("ddd MM/DD/YY")),y=Object(i.a)(g,2),w=y[0],D=y[1],S=Object(c.useState)([{id:1,address:"200 N Spring St, 90012",type:"bulky",contact:"Kobe Bryant"},{id:2,address:"320 S Grand Ave, 90015",type:"bulky",contact:"Magic Johnson"},{id:3,address:"1449 S Broadway, 90015",type:"bulky",contact:"Kareem Abdul-Jabbar"},{id:4,address:"555 Ramirez St, 90012",type:"bulky",contact:"Lebron James"},{id:5,address:"110 W Temple St, 90012",type:"bulky",contact:"SHAQ"}]),A=Object(i.a)(S,2),N=A[0],k=A[1],C=function(){var e=Object(c.useState)(x()),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){var e=function(){n(x())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),r}();return Object(c.useEffect)((function(){if(b.current){var e=new u.a({basemap:"gray-vector"}),t=new j.a({map:e,center:[-118.345,33.99],zoom:10,container:b.current}),r=new h.a({view:t,container:document.createElement("div")}),n=new f.a({view:t,content:r});r.watch("activeBasemap",(function(){n.collapse()}));var i=new O.a({view:t}),c=new m.a({view:t,listItemCreatedFunction:function(e){var t=e.item;"group"!=t.layer.type&&(t.panel={content:"legend",open:!0})}}),a=new f.a({view:t,content:c}),l=new p.default({url:"https://xmastree.cityoflasan.org/server/rest/services/Hosted/LASANCollectionDay/FeatureServer",outFields:["*"],popupTemplate:{title:"Collection Day Area: {district_n}",content:[{type:"fields",fieldInfos:[{fieldName:"district",label:"DISTRICT"},{fieldName:"section",label:"SECTION"},{fieldName:"day",label:"PICKUP DAY"},{fieldName:"last_edi_1",label:"MODIFIED DATE"}]}]},title:"Yards"}),s=new p.default({url:"https://xmastree.cityoflasan.org/server/rest/services/Hosted/GatedComm_02102021/FeatureServer",outFields:["*"],popupTemplate:{title:"Gated Community",content:[{type:"fields",fieldInfos:[{fieldName:"district",label:"DISTRICT"},{fieldName:"section",label:"SECTION"},{fieldName:"day",label:"PICKUP DAY"},{fieldName:"last_edi_1",label:"MODIFIED DATE"}]}]},title:"Gated Communities",visible:!1}),d=new p.default({url:"https://xmastree.cityoflasan.org/server/rest/services/Hosted/LASAN_SpecialTruckAreas_02102021/FeatureServer",outFields:["*"],popupTemplate:{title:"Specialty Truck Area",content:[{type:"fields",fieldInfos:[{fieldName:"trucktypeu",label:"Truck Type"}]}]},title:"Special Trucks",visible:!1}),o=new p.default({url:"https://xmastree.cityoflasan.org/server/rest/services/Hosted/LASAN_Solids_Collection_Yards/FeatureServer",outFields:["*"],popupTemplate:{title:"Collection Yard: {name}",content:[{type:"fields",fieldInfos:[{fieldName:"desc1",label:"Address"},{fieldName:"desig1",label:"Yard Description"},{fieldName:"desc4",label:"Site Details"}]}]},title:"Collection Yards"});t.ui.add(i,"top-left"),t.ui.add(a,"top-left"),t.ui.add(n,"top-right"),e.addMany([l,s,d,o])}}),[]),Object(v.jsxs)("div",{style:{marginTop:"-13px"},children:[Object(v.jsxs)(l.ub,{md:"12",children:[Object(v.jsxs)(l.u,{xs:"12",md:"4",children:[Object(v.jsxs)(l.g,{children:[Object(v.jsx)(l.f,{className:"bg-gray-400",onClick:function(){return D((e=w,o()(e).subtract(1,"d").format("ddd MM/DD/YY")));var e},children:"<"}),Object(v.jsx)(l.f,{color:"secondary",onClick:function(){return D(o()().format("ddd MM/DD/YY"))},children:"Today"}),Object(v.jsx)(l.f,{className:"bg-gray-400",onClick:function(){return D((e=w,o()(e).add(1,"d").format("ddd MM/DD/YY")));var e},children:">"})]})," \xa0 \xa0",Object(v.jsx)("span",{children:w})]}),Object(v.jsx)(l.u,{md:"8",children:Object(v.jsxs)(l.ub,{md:"8",children:[Object(v.jsx)(l.u,{xs:"8",md:"5",children:Object(v.jsxs)(l.vb,{custom:!0,name:"selectYard",id:"selectYard",children:[Object(v.jsx)("option",{value:"0",children:"Please select a Yard"}),Object(v.jsx)("option",{value:"ev",children:"East Valley"}),Object(v.jsx)("option",{value:"hb",children:"Harbor"}),Object(v.jsx)("option",{value:"nc",children:"North Central"}),Object(v.jsx)("option",{value:"sla",children:"South Los Angeles"}),Object(v.jsx)("option",{value:"wla",children:"West Los Angeles"}),Object(v.jsx)("option",{value:"wv",children:"West Valley"})]})}),Object(v.jsx)(l.u,{xs:"8",md:"5",children:Object(v.jsxs)(l.vb,{custom:!0,name:"selectDriver",id:"selectDriver",children:[Object(v.jsx)("option",{value:"0",children:"Please select a Driver"}),Object(v.jsx)("option",{value:"1",children:"Option #1"}),Object(v.jsx)("option",{value:"2",children:"Option #2"}),Object(v.jsx)("option",{value:"3",children:"Option #3"})]})}),Object(v.jsx)(l.u,{xs:"8",md:"2",style:{textAlign:"right"},children:Object(v.jsxs)(l.f,{color:"dark",onClick:function(){return d(!r)},children:[Object(v.jsx)(a.a,{name:"cilLocationPin"}),"\xa0Routes"]})})]})})]}),Object(v.jsx)("div",{className:"mapDiv",style:{marginTop:"10px",height:C,border:"1px solid #333"},ref:b,children:Object(v.jsx)(l.v,{show:r,children:Object(v.jsx)("div",{style:{width:"400px",height:C,borderLeft:"1px solid #333",backgroundColor:"#fff"},children:Object(v.jsxs)(l.j,{children:[Object(v.jsx)(l.n,{children:Object(v.jsxs)(l.f,{color:"dark",children:[Object(v.jsx)(a.a,{name:"cilShareAll"}),"\xa0Dispatch All"]})}),Object(v.jsx)(l.k,{children:Object(v.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"10px",overflow:"scroll"},children:Object(v.jsx)(s.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,r){var n=Array.from(e),c=n.splice(t,1),a=Object(i.a)(c,1)[0];return n.splice(r,0,a),n}(N,e.source.index,e.destination.index);k(t)}},children:Object(v.jsx)(s.c,{droppableId:"droppable",children:function(e,t){return Object(v.jsxs)("div",Object(n.a)(Object(n.a)({},e.droppableProps),{},{ref:e.innerRef,style:(t.isDraggingOver,{background:"#fff",padding:8,width:275}),children:[N.map((function(e,t){return Object(v.jsx)(s.b,{draggableId:""+e.id,index:t,children:function(r,i){return Object(v.jsxs)("div",Object(n.a)(Object(n.a)(Object(n.a)({ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{style:(c=i.isDragging,a=r.draggableProps.style,Object(n.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),border:"1px solid #333",background:c?"lightblue":"#f2f2f2"},a)),children:[Object(v.jsx)("div",{style:{width:"30px",border:"1px dotted blue",fontSize:"16px",fontWeight:"bolder",backgroundColor:"#a1de45",textAlign:"center"},children:t+1}),Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{style:{fontWeight:"bold"},children:"Case Number:"})," ",1e3+t," ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{style:{fontWeight:"bold"},children:"Appt Number:"})," ","SA-"+(1e3+t)," ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{style:{fontWeight:"bold"},children:"Address:"})," ",e.address," ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{style:{fontWeight:"bold"},children:"Customer:"})," ",e.contact," ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{style:{fontWeight:"bold"},children:"Work Type:"})," ",e.type]})]}));var c,a}},e.id)})),e.placeholder]}))}})})})})]})})})})]})}}}]);
//# sourceMappingURL=94.1ebf59ac.chunk.js.map