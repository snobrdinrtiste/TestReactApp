{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/BaseRasterTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/IdentityTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/utils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/CloudRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js","../node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js","../node_modules/@arcgis/core/layers/ImageryTileLayer.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js"],"names":["t","e","this","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","s","r","has","get","refCount","delete","controller","abort","ts","Date","now","set","block","i","c","trim","updateTimer","clear","clearTimer","size","setInterval","Array","from","length","clearInterval","a","n","extent","rasterInfo","cache","push","u","some","h","decreaseRefCount","o","m","getBlock","l","x","isResolved","isRejected","then","catch","putBlock","d","deleteBlock","y","g","f","xmin","xmax","ymin","ymax","clone","normalize","p","spatialReference","k","transform","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","R","storageInfo","C","origin","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","J","getLogger","arguments","rasterJobHandler","datasetName","datasetFormat","ioConfig","sampling","addResolvingPromise","when","resolution","bandIds","tileInfo","create","_set","declaredClass","lodAt","getTileExtent","multidimensionalDefinition","multidimensionalInfo","sliceId","getSliceIndex","fetchPixels","datumTransformation","intersects","location","value","nativeExtent","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","row","col","rowOffset","colOffset","url","fetchRawTile","pixels","mask","map","T","equals","L","S","fetchRawPixels","width","height","wrapCount","pixelBlocks","srcExtent","pixelBlock","D","requestRawData","rows","spacing","cols","_","_getRasterTileAlignmentInfo","A","W","mosaicSize","z","isPartiallyFilled","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","coefficients","sampleSpacing","interpolation","alignmentInfo","F","transformGrid","blockBoundary","getBlockWidthHeight","buffer","minRow","minCol","maxCol","maxRow","worldColumnCountFromOrigin","originColumnOffset","_fetchRawTile","allowPartialFill","Promise","all","getPyramidPixelSize","useCanvas","decode","data","options","customFetchParameters","range","query","headers","retryCount","Range","to","request","variableName","variables","dimensions","name","_getDimensionValuesCount","reduce","filter","dimensionName","isArray","values","_getIndexFromDimensions","shift","pixelSize","maximumPyramidLevel","level","scale","lods","isVirtualTileInfo","round","log","LN2","computeBlockBoundary","firstPyramidLevel","nativePixelSize","pyramidResolutions","pyramidScalingFactor","srcLocation","resolve","registryId","signal","interval","unit","findIndex","indexOf","intervalUnit","toLowerCase","getUTCFullYear","_rasterTileAlighmentInfo","pyramidsInfo","startX","halfWorldWidth","hasGCSSShiftTransform","prototype","type","String","json","write","fields","records","alias","concat","typeName","attributes","displayFieldName","features","DataView","getUint8","header","version","recordSet","getUint32","getUint16","recordCount","headerByteCount","recordByteCount","fromCharCode","Uint8Array","parseInt","apply","parseFloat","substring","byteLength","affectsPixelSize","IdentityXform","polynomialOrder","coeffX","coeffY","_get","inverseCoeffX","inverseCoeffY","forwardCoefficients","inverseCoefficients","PolynomialXform","Object","keys","init","_validateHeader","slice","lastIndexOf","_parseHeader","dataType","_fetchAuxiliaryInformation","attributeTable","_buildCacheFilePath","_getIndexRecordFromBundle","headerSize","responseType","_getTileEndAndContentType","recordSize","position","decodePixelBlock","planes","pixelType","bandCount","histograms","colormap","statistics","avg","mean","stddev","standardDeviation","median","mode","geodataXform","wkid","wkt","pixelSizeX","pixelSizeY","_parseTransform","forwardTransform","properties","format","replace","colors","LODInfos","levels","resolutions","dpi","O","packetSize","q","mdInfo","keyProperties","includes","read","parse","fromJSON","_toHexString4","toString","subarray","readOnly","isPseudoSpatialReference","createRemoteDatasetStorageInfo","updateTileInfo","_buildInMemoryRaster","_pixelBlockTiles","split","tileSize","estimateStatisticsHistograms","getElementsByTagNameNS","item","textContent","nodeValue","Number","nodeName","isNaN","startsWith","vcsWkid","endsWith","documentElement","tagName","metadata","rasterBands","childNodes","nodeType","getAttribute","toUpperCase","noDataValue","histogram","counts","sourceBandIndex","_fetchData","_fetchAuxiliaryData","DateType","open","_inMemoryRaster","skipExtensions","aborted","tolerance","GCSShiftXform","_levelOffset","_slices","_tilemapCache","sourceJSON","ssl","_fixScaleInServiceInfo","tileType","cacheType","_fetchRasterInfo","maxScale","abs","sort","minScale","compression","_fixGCSShift","capabilities","parsedUrl","tileServers","layer","isPoint","variable","fetchAvailability","DataType","hasRasterAttributeTable","hasColormap","hasHistograms","hasMultidimensions","_fetchMultidimensionalInfo","slices","minValues","maxValues","meanValues","stdvValues","isGeographic","_files","_storageIndex","files","index","_parseIndex","_getTileLocation","ranges","actualTileWidth","actualTileHeight","validPixelCount","ArrayBuffer","Uint32Array","U","mrf","_headerInfo","_bufferSize","littleEndian","firstIFD","isBigTiff","readIFDs","tileWidth","tileHeight","tileBoundary","affine","G","Y","BandProperties","bandProperties","N","K","ifds","isSupported","message","isBlockOutside","getTileLocation","ifd","customOptions","headerInfo","offsets","sizes","readIFD","TIFF_TAGS","nextIFD","success","offlineOffsetSize","valueOffset","GEO_KEYS","id","valueCount","requiredBufferSize","desc","constructor","supportedFormats","enabled","loaded","raster","legendEnabled","isReference","listMode","title","operationalLayerType","popupEnabled","popupTemplate","loadFromPortal","supportedTypes","_openRaster","createPopupTemplate","domain","editable","updateRenderer","layerDefinition","drawingInfo","renderer","rasterFields","test","messages","layerContainerType","customParameters","currentVersion","copyrightText","_configDefaultSettings","watch","_rasterJobHandler","instance","connectionPromise","copyright","fullExtent","symbolizer","_sliceId","JSON","stringify","_cachedRendererJson","rendererJSON","toJSON","bind","updateSymbolizer","symbolize","simpleStretchParams","_compatibleFullExtent","computeExtent","requestAsImageElement","getTileUrl","_ts","timestamp","_initJobHandler","fetchTile","identify","_shutdownJobHandler","_configDefaultInterpolation","_configDefaultSlice","_configDefaultRenderer","initialize","destroy","defaultResamplingMethod","hasRegularIntervals","isSlice","warn","types","overridePolicy","Boolean","source","reader","disablePopup","target","writer","origins","left","top","_allAvailability","byteSize","_tileAvailabilityBitSet","service","details","httpStatus","valid","response","definition","validateJSON","freeze","_updateFromData","_handles","_pendingTilemapRequests","_availableLevels","cacheByteSize","_prefetchingEnabled","_initializeTilemapDefinition","_initializeAvailableLevels","error","reject","_tmpTilemapDefinition","_tilemapFromCache","fromDefinition","put","getAvailability","upsampleTile","fetchTilemap","fetchAvailabilityUpsample","_fetchAvailabilityUpsamplePrefetch","remove","_prefetches","removeUnordered","_maxPrefetch","path","hasTilemap","initialSize","constructOnly","minLOD","maxLOD","ignoreMinMaxLOD","isWGS84","isWebMercator","center","originX","resolutionX","datsetColumnCount","leftMargin","rightPadding","NaN","Float32Array","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme"],"mappings":"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","file":"static/js/92.500892df.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{rasterRendererTypes as t}from\"../../rasterRenderers.js\";import i from\"../../request.js\";import r from\"../../core/Logger.js\";import{isSome as s}from\"../../core/maybe.js\";import{aliasOf as n}from\"../../core/accessorSupport/decorators/aliasOf.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getInfo as l}from\"../../geometry/support/spatialReferenceUtils.js\";import{sanitizeUrl as d}from\"../support/arcgisLayerUrl.js\";import{url as m}from\"../support/commonProperties.js\";import p from\"../support/DimensionalDefinition.js\";import h from\"../support/RasterJobHandler.js\";import u from\"../support/TileInfo.js\";import{normalizeRendererJSON as c,getDefaultInterpolation as f,getDefaultBandCombination as y,createDefaultRenderer as b}from\"../../renderers/support/rasterRendererHelper.js\";import g from\"../../renderers/support/RasterSymbolizer.js\";import _ from\"../../geometry/Extent.js\";import I from\"../../geometry/SpatialReference.js\";const J=r.getLogger(\"esri.layers.mixins.ImageryTileMixin\"),v=r=>{let v=class extends r{constructor(){super(...arguments),this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.fullExtent=null,this.interpolation=\"nearest\",this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.tileInfo=null,this.symbolizer=null}set multidimensionalDefinition(e){this.raster&&(this._sliceId=this.raster.getSliceIndex(e)),this._set(\"multidimensionalDefinition\",e)}set url(e){this._set(\"url\",d(e,J))}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}async updateRenderer(){if(!this.loaded)return;if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(this.renderer))return;const e=this._rasterJobHandler.instance;e&&(this.symbolizer.rendererJSON=c(this.renderer.toJSON()),this.symbolizer.bind(),await e.updateSymbolizer(this.symbolizer),this._cachedRendererJson=this.renderer.toJSON())}async applyRenderer(e,t){const i=e&&e.pixelBlock;if(!(i&&i.pixels&&i.pixels.length>0))return null;let r;this.updateRenderer();const s=this._rasterJobHandler.instance,{bandIds:n}=this;return r=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),r}getTileUrl(e,t,i){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${i}`:\"\"}getCompatibleTileInfo(e,t,i=!1){if(!this.loaded)return null;if(i&&e.equals(this.spatialReference))return this.tileInfo;const r=l(e);return u.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,s={}){if(s.requestAsImageElement){const n=this.getTileUrl(e,t,r);return i(n,{responseType:\"image\",query:{sliceId:this._sliceId,_ts:s.timestamp,...this.raster.ioConfig.customFetchParameters},signal:s.signal}).then((e=>e.data))}await this._initJobHandler();const n=\"raster-shaded-relief\"===this.renderer.type?{cols:1,rows:1}:null;if(this.multidimensionalDefinition){const e=this._sliceId;s={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,buffer:n,...s}}return this.raster.fetchTile(e,t,r,s)}async fetchPixels(e,t,i,r){if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;r={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...r}}return this.raster.fetchPixels(e,t,i,r)}identify(e,t={}){return this.multidimensionalDefinition&&!t.multidimensionalDefinition&&(t={...t,multidimensionalDefinition:this.multidimensionalDefinition}),this.raster.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler()}hasStandardTime(){var e;const t=this.rasterInfo.multidimensionalInfo;if(!s(t)||\"standard-time\"!==this.rasterInfo.dataType)return!1;const i=null==(e=this.multidimensionalDefinition[0])?void 0:e.variableName;return t.variables.some((e=>e.name===i&&e.dimensions.some((e=>\"StdTime\"===e.name))))}getStandardTimeValue(e){return new Date(24*(e-25569)*3600*1e3).toString()}_configDefaultSettings(){this._configDefaultInterpolation(),this._configDefaultSlice(),this._configDefaultRenderer()}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new h;return this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,this.renderer&&this.updateRenderer()})).catch((()=>null)),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this.raster.rasterJobHandler=null}_configDefaultInterpolation(){if(null==this.interpolation){var e;const t=f(this.rasterInfo,this.raster.tileType,null==(e=this.sourceJSON)?void 0:e.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultSlice(){const{multidimensionalInfo:e}=this.raster.rasterInfo;if(s(e)){if(!this.multidimensionalDefinition){const t=e.variables[0],i=[];t.dimensions.forEach((e=>{i.push(new p({variableName:t.name,dimensionName:e.name,values:e.hasRegularIntervals?e.extent[0]:e.values[0],isSlice:!0}))})),this.multidimensionalDefinition=i}this._sliceId=this.raster.getSliceIndex(this.multidimensionalDefinition)}}_configDefaultRenderer(){const e=this.raster.rasterInfo;var t,i;(this.bandIds||(this.bandIds=y(e)),this.renderer)||(this.renderer=b(e,{bandIds:this.bandIds,variableName:null==(t=this.multidimensionalDefinition)||null==(i=t[0])?void 0:i.variableName}));this.symbolizer?(this.symbolizer.rendererJSON=c(this.renderer.toJSON()),this.symbolizer.rasterInfo=e):this.symbolizer=new g({rendererJSON:this.renderer.toJSON(),rasterInfo:e}),this.symbolizer.bind()||J.warn(\"imagery-tile-mixin\",\"The given renderer is not supported by the layer.\")}};return e([o()],v.prototype,\"_cachedRendererJson\",void 0),e([o()],v.prototype,\"_sliceId\",void 0),e([o()],v.prototype,\"_compatibleFullExtent\",void 0),e([o()],v.prototype,\"_rasterJobHandler\",void 0),e([o()],v.prototype,\"bandIds\",void 0),e([o()],v.prototype,\"copyright\",void 0),e([o({type:_}),n(\"rasterInfo.extent\")],v.prototype,\"fullExtent\",void 0),e([o()],v.prototype,\"interpolation\",void 0),e([o()],v.prototype,\"ioConfig\",void 0),e([o({type:[p]})],v.prototype,\"multidimensionalDefinition\",null),e([o()],v.prototype,\"raster\",void 0),e([o({readOnly:!0}),n(\"raster.rasterInfo\")],v.prototype,\"rasterInfo\",void 0),e([o()],v.prototype,\"sourceJSON\",void 0),e([o({type:I}),n(\"rasterInfo.spatialReference\")],v.prototype,\"spatialReference\",void 0),e([o({type:u}),n(\"rasterInfo.storageInfo.tileInfo\")],v.prototype,\"tileInfo\",void 0),e([o(m)],v.prototype,\"url\",null),e([o({types:t})],v.prototype,\"renderer\",null),e([o()],v.prototype,\"symbolizer\",void 0),v=e([a(\"esri.layers.ImageryTileMixin\")],v),v};export{v as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../request.js\";import r from\"../../../core/Error.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import n from\"../../../core/Logger.js\";import{isSome as i,unwrap as s}from\"../../../core/maybe.js\";import{EsriPromiseMixin as a}from\"../../../core/Promise.js\";import{createAbortController as l,onAbort as c}from\"../../../core/promiseUtils.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{sanitizeUrl as m}from\"../arcgisLayerUrl.js\";import{url as h}from\"../commonProperties.js\";import d from\"../RasterStorageInfo.js\";import p from\"../TileInfo.js\";import{getRasterId as g,getBlock as x,putBlock as y,deleteBlock as I,decreaseRefCount as w}from\"./RawBlockCache.js\";import{decode as k}from\"../rasterFormats/RasterCodec.js\";import{mosaic as v,approximateTransform as R}from\"../rasterFunctions/pixelUtils.js\";import{load as b,projectPoint as C,snapPyramid as M,snapExtent as T,getWorldWrapCount as P,projectResolution as B,projectExtent as S,getProjectionOffsetGrid as j,getRasterDatasetAlignmentInfo as F}from\"../rasterFunctions/rasterProjectionHelper.js\";import L from\"../../../geometry/Point.js\";import D from\"../../../geometry/Extent.js\";let H=class extends(a(o)){constructor(){super(...arguments),this.rasterJobHandler=null,this.datasetName=null,this.datasetFormat=null,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}async init(){const e=b();this.addResolvingPromise(e),await this.when()}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:p.create(),...e.ioConfig}}),e}set url(e){this._set(\"url\",m(e,n.getLogger(this.declaredClass)))}async open(e){throw new r(\"BaseRaster:open-not-implemented\",\"open() is not implemented\")}async fetchTile(e,t,r,o={}){var n;const{tileInfo:s}=o,a=s.lodAt(e),l=this.getTileExtent({x:a.resolution,y:a.resolution},t,r,s.origin,s.spatialReference,s.size);return null!=(n=o.multidimensionalDefinition)&&n.length&&i(this.rasterInfo.multidimensionalInfo)&&null==o.sliceId&&(o={...o,sliceId:this.getSliceIndex(o.multidimensionalDefinition)||0}),this.fetchPixels(l,s.size[0],s.size[1],o)}async identify(e,t={}){const{spatialReference:r,extent:o}=this.rasterInfo,{datumTransformation:n}=t;let s=C(e,r,n);if(!o.intersects(s))return{location:s,value:null};if(i(this.rasterInfo.transform)){const e=this.rasterInfo.transform.inverseTransform(s);if(!this.rasterInfo.nativeExtent.intersects(e))return{location:e,value:null};s=e}let a=0;if(t.srcResolution){a=M(t.srcResolution,this.rasterInfo,this.ioConfig.sampling).pyramidLevel}else if(a=await this.computeBestPyramidLevelForLocation(e,t),null==a)return{location:s,value:null};const l=this.identifyPixelLocation(s,a,null);if(null===l)return{location:s,value:null};const{row:c,col:f,rowOffset:u,colOffset:m}=l,h=g(this.url,t.sliceId),d=`${a}/${c}/${f}`;let p=x(h,null,d);i(p)||(p=this.fetchRawTile(a,c,f,t),y(h,null,d,p));const I=await p;if(!(I&&I.pixels&&I.pixels.length>0))return{location:s,value:null};const w=u*this.rasterInfo.storageInfo.blockHeight+m;return{location:s,value:!I.mask||I.mask[w]?I.pixels.map((e=>e[w])):null,pyramidLevel:a}}async fetchPixels(e,t,r,o={}){e=T(e);const n=P(e),i=this.rasterInfo.spatialReference,a=!e.spatialReference.equals(i),{datumTransformation:l}=o,c=new L({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/r,spatialReference:e.spatialReference}),f=o.srcResolution||(a?B(c,i,e,l):c);if(!f)return null;const{pyramidLevel:u,pyramidResolution:m,excessiveReading:h}=M(f,this.rasterInfo,this.ioConfig.sampling);if(h)return null;const d=this.rasterInfo.storageInfo;let p=a?S(e,i,l):e;const g=s(this.rasterInfo.transform);if(g&&(p=g.inverseTransform(p)),null==p)return null;const x={x:Math.floor((p.xmin-d.origin.x)/m.x+.1),y:Math.floor((d.origin.y-p.ymax)/m.y+.1)},y=Math.ceil((p.xmax-p.xmin)/m.x-.1),I=Math.ceil((p.ymax-p.ymin)/m.y-.1);if(y/t>8||I/r>8||n>=2)return null;const w=await this.fetchRawPixels(u,x,{width:y,height:I,wrapCount:n},o);if(!w)return null;const k=u>0?d.pyramidBlockWidth:d.blockWidth,b=u>0?d.pyramidBlockHeight:d.blockHeight;if(!a&&1===w.pixelBlocks.length&&k===t&&b===r&&f.x===c.x&&f.y===c.y)return{extent:e,srcExtent:p,pixelBlock:w.pixelBlocks[0]};const C=j(e,w.extent,c,l,g,n>0);let F;const D=!o.requestRawData,H={rows:C.spacing[0],cols:C.spacing[1]},_=s(this._getRasterTileAlignmentInfo(u,w.extent.xmin)),{pixelBlocks:A,mosaicSize:W,isPartiallyFilled:z}=w;if(this.rasterJobHandler)F=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:A,srcMosaicSize:W,destDimension:D?{width:t,height:r}:null,coefs:D?C.coefficients:null,sampleSpacing:D?H:null,interpolation:o.interpolation,alignmentInfo:_},o);else{const e=v(A,W,null,null,_);F=D?R(e,{width:t,height:r},C.coefficients,H,o.interpolation):e}return o.requestRawData?{srcExtent:p,pixelBlock:F,transformGrid:C,extent:e,isPartiallyFilled:z}:{srcExtent:p,extent:e,pixelBlock:F}}async fetchRawPixels(e,t,r,o){const{origin:n,blockBoundary:i}=this.rasterInfo.storageInfo,{blockWidth:a,blockHeight:l}=this.getBlockWidthHeight(e);let{x:c,y:f}=t,{width:u,height:m,wrapCount:h}=r;const d=s(this._getRasterTileAlignmentInfo(e,0));o.buffer&&(c-=o.buffer.cols,f-=o.buffer.rows,u+=2*o.buffer.cols,m+=2*o.buffer.rows);const p=Math.floor(c/a),g=Math.floor(f/l),x=Math.floor((c+u-1)/a),y=Math.floor((f+m-1)/l),I=i[e];if(!I)return null;const{minRow:w,minCol:k,maxCol:v,maxRow:R}=I;if(y<w||x<k||g>R||p>v)return null;const b=[];let C,M=!1;for(let s=g;s<=y;s++)for(let t=p;t<=x;t++){const r=0===h||null==d||t<d.worldColumnCountFromOrigin?t:t%d.worldColumnCountFromOrigin-d.originColumnOffset;s>=w&&r>=k&&R>=s&&v>=r?(C=this._fetchRawTile(e,s,r,o),this.ioConfig.allowPartialFill&&(C=new Promise((e=>{C.then((t=>e(t))).catch((()=>{M=!0,e(null)}))}))),b.push(C)):b.push(null)}if(0===b.length)return null;const T=await Promise.all(b),P={height:(y-g+1)*l,width:(x-p+1)*a},{spatialReference:B}=this.rasterInfo,S=this.getPyramidPixelSize(e),{x:j,y:F}=S;return{extent:new D({xmin:n.x+p*a*j,xmax:n.x+(x+1)*a*j,ymin:n.y-(y+1)*l*F,ymax:n.y-g*l*F,spatialReference:B}),pixelBlocks:T,mosaicSize:P,isPartiallyFilled:M}}async fetchRawTile(e,t,o,n){throw new r(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return S(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?k(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,r,o){var n,i;const{customFetchParameters:s}=this.ioConfig,{range:a,query:l,headers:c}=r;o=null!=(n=null!=(i=o)?i:r.retryCount)?n:this.ioConfig.retryCount;const f=a?{Range:`bytes=${a.from}-${a.to}`}:null;try{return await t(e,{...r,query:{...l,...s},headers:{...c,...f}})}catch(u){if(o>0)return o--,this.request(e,r,o);throw u}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;if(!i(t)||null==e||!e.length)return null;let r=0;const o=e[0].variableName;for(let n=0;n<t.variables.length;n++){const i=t.variables[n],s=i.dimensions;if(i.name!==o){r+=s.map((e=>this._getDimensionValuesCount(e))).reduce(((e,t)=>e+t));break}const a=s.map((e=>this._getDimensionValuesCount(e))),l=s.length;for(let t=0;t<l;t++){const o=e.filter((e=>e.dimensionName===s[t].name))[0];if(null==o)return null;const n=Array.isArray(o.values[0])?o.values[0][0]:o.values[0],i=this._getIndexFromDimensions(n,s[t]);if(-1===i)return null;a.shift(),r+=t===l-1?i:i*a.reduce(((e,t)=>e+t))}}return r}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:r,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const n=[],i=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),a=1/.0254*96*s;for(let e=0;e<=i;e++)n.push({level:i-e,resolution:s,scale:a}),s*=2,a*=2;const l=new L({x:r.xmin,y:r.ymax,spatialReference:t});e.tileInfo=new p({origin:l,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:n}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,r=512,o){const{width:n,height:i,nativeExtent:s,pixelSize:a,spatialReference:l}=e,c=new L({x:s.xmin,y:s.ymax,spatialReference:l});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(n,i))/Math.LN2-8)));const f=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[a],o);e.storageInfo=new d({blockWidth:t,blockHeight:r,pyramidBlockWidth:t,pyramidBlockHeight:r,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:f})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,r,o,n,i=0,s=2){if(1===n.length&&i>0){n=[...n];let{x:e,y:t}=n[0];for(let r=0;r<i;r++)e*=s,t*=s,n.push({x:e,y:t})}const a=[],{x:l,y:c}=o;for(let f=0;f<n.length;f++){const{x:o,y:i}=n[f];a.push({minCol:Math.floor((e.xmin-l+.1*o)/t/o),maxCol:Math.floor((e.xmax-l-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*i)/r/i),maxRow:Math.floor((c-e.ymin-.1*i)/r/i)})}return a}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:r,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(i(r)&&r.length)return r[e-1];const n=o**e;return{x:t.x*n,y:t.y*n}}identifyPixelLocation(e,t,r){const{spatialReference:o,nativeExtent:n}=this.rasterInfo,{blockWidth:i,blockHeight:s,maximumPyramidLevel:a,origin:l}=this.rasterInfo.storageInfo,c=C(e,o,r);if(!n.intersects(c))return null;if(t<0||t>a)return null;const f=this.getPyramidPixelSize(t),{x:u,y:m}=f,h=(l.y-c.y)/m/s,d=(c.x-l.x)/u/i,p=Math.min(s-1,Math.floor((h-Math.floor(h))*s)),g=Math.min(i-1,Math.floor((d-Math.floor(d))*i));return{pyramidLevel:t,row:Math.floor(h),col:Math.floor(d),rowOffset:p,colOffset:g,srcLocation:c}}getTileExtent(e,t,r,o,n,i){const[s,a]=i,l=o.x+r*s*e.x,c=l+s*e.x,f=o.y-t*a*e.y,u=f-a*e.y;return new D({xmin:l,xmax:c,ymin:u,ymax:f,spatialReference:n})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,r){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<r||o.minRow>t||o.minCol>r}_fetchRawTile(e,t,r,o){const n=this.rasterInfo.storageInfo.blockBoundary[e];if(!n)return Promise.resolve(null);const{minRow:s,minCol:a,maxCol:f,maxRow:u}=n;if(t<s||r<a||t>u||r>f)return Promise.resolve(null);const m=g(this.url,o.sliceId),h=`${e}/${t}/${r}`;let d=x(m,o.registryId,h);if(!i(d)){const n=l();d=this.fetchRawTile(e,t,r,{...o,signal:n.signal}),y(m,o.registryId,h,d,n),d.catch((()=>{I(m,o.registryId,h)}))}return o.signal&&c(o,(()=>{w(m,o.registryId,h)})),d}_getIndexFromDimensions(e,t){const{extent:r,interval:o,unit:n,values:i}=t;if(null!=i&&i.length)return Array.isArray(i[0])?i.findIndex((t=>t[0]<=e&&t[1]>=e)):i.indexOf(e);if(e>r[1])return-1;const s=r[0];let a=-1;if(\"ISO8601\"===n){var l;switch((null==(l=t.intervalUnit)?void 0:l.toLowerCase())||\"seconds\"){case\"seconds\":a=Math.round((e-s)/1e3/o);break;case\"minutes\":a=Math.round((e-s)/6e4/o);break;case\"hours\":a=Math.round((e-s)/36e5/o);break;case\"days\":a=Math.round((e-s)/864e5/o);break;case\"years\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/o);break;case\"decades\":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/o)}return a}return Math.round((e-s)/o)}_getDimensionValuesCount(e){const{extent:t,interval:r,unit:o,values:n}=e;let i=(null==n?void 0:n.length)||0;if(i)return i;const s=t[0];if(0===i&&\"ISO8601\"===o){var a;switch((null==(a=e.intervalUnit)?void 0:a.toLowerCase())||\"seconds\"){case\"seconds\":i=Math.round((t[1]-t[0])/1e3/r);break;case\"minutes\":i=Math.round((t[1]-t[0])/6e4/r);break;case\"hours\":i=Math.round((t[1]-t[0])/36e5/r);break;case\"days\":i=Math.round((t[1]-t[0])/864e5/r);break;case\"years\":i=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/r);break;case\"decades\":i=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/10/r)}return i}return Math.round((t[1]-t[0])/r)}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlighmentInfo&&(this._rasterTileAlighmentInfo=F(this.rasterInfo)),i(this._rasterTileAlighmentInfo.pyramidsInfo)?{startX:t,halfWorldWidth:this._rasterTileAlighmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlighmentInfo.hasGCSSShiftTransform,...this._rasterTileAlighmentInfo.pyramidsInfo[e]}:null}};e([f()],H.prototype,\"_rasterTileAlighmentInfo\",void 0),e([f(h)],H.prototype,\"url\",null),e([f({type:String,json:{write:!0}})],H.prototype,\"datasetName\",void 0),e([f({type:String,json:{write:!0}})],H.prototype,\"datasetFormat\",void 0),e([f()],H.prototype,\"rasterInfo\",void 0),e([f()],H.prototype,\"ioConfig\",void 0),e([f()],H.prototype,\"sourceJSON\",void 0),H=e([u(\"esri.layers.support.rasterDatasets.BaseRaster\")],H);var _=H;export default _;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"./byteStreamUtils.js\";function t(e){const t=e.fields,r=e.records,n=t.some((e=>\"oid\"===e.name.toLowerCase()))?\"OBJECTID\":\"OID\",i=[{name:n,type:\"esriFieldTypeOID\",alias:\"OID\"}].concat(t.map((e=>({name:e.name,type:\"esriFieldType\"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t})})),{displayFieldName:\"\",fields:i,features:a}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:e(new Uint8Array(r,p,11)),type:d,typeName:[\"String\",\"Date\",\"Double\",\"Boolean\",\"String\",\"Integer\"][[\"C\",\"D\",\"F\",\"L\",\"M\",\"N\"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if(\"C\"===n.type)t.push(e(new Uint8Array(r,p,n.length)).trim());else if(\"N\"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if(\"F\"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if(\"D\"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)))}p+=n.length})),u.push(t)):p+=o}}return{header:l,fields:g,records:u,recordSet:t({fields:g,records:u})}}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.affectsPixelSize=!1}forwardTransform(r){return r}inverseTransform(r){return r}};r([s()],t.prototype,\"affectsPixelSize\",void 0),r([s({json:{write:!0}})],t.prototype,\"spatialReference\",void 0),t=r([e(\"esri.layers.support.rasterTransforms.BaseRasterTransform\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./BaseRasterTransform.js\";let e=class extends t{constructor(){super(...arguments),this.type=\"identity\"}};r([o({IdentityXform:\"identity\"})],e.prototype,\"type\",void 0),e=r([s(\"esri.layers.support.rasterTransforms.IdentityTransform\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../../../core/accessorSupport/decorators/writer.js\";import i from\"./BaseRasterTransform.js\";import f from\"../../../geometry/Point.js\";import p from\"../../../geometry/Extent.js\";function l(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,p=n*t,l=n*s,a=t*i,c=s*i;return{x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+p*e[12]+l*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+p*e[13]+l*e[15]+a*e[17]+c*e[19]}}function a(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let a=[];if(o<2)a.push({x:t,y:i}),a.push({x:n,y:i}),a.push({x:t,y:s}),a.push({x:n,y:s});else{let e=10;for(let r=0;r<e;r++)a.push({x:t,y:s+(i-s)*r/(e-1)}),a.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)a.push({x:t+(n-t)*r/e,y:s}),a.push({x:t+(n-t)*r/e,y:i})}a=a.map((r=>l(e,r,o)));const c=a.map((e=>e.x)),u=a.map((e=>e.y));return new p({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function c(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,p=n*s-t*i;return[(n*o-r*i)/f,(t*o-r*s)/p,i/f,s/p,-n/f,-t/p]}let u=class extends i{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=c(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s}forwardTransform(e){if(\"point\"===e.type){const r=l(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=l(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return a(this.inverseCoefficients,e,this.polynomialOrder)}};e([r({json:{write:!0}})],u.prototype,\"polynomialOrder\",void 0),e([r()],u.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],u.prototype,\"readForwardCoefficients\",null),e([n(\"forwardCoefficients\")],u.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],u.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],u.prototype,\"readInverseCoefficients\",null),e([n(\"inverseCoefficients\")],u.prototype,\"writeInverseCoefficients\",null),e([r()],u.prototype,\"affectsPixelSize\",void 0),e([o({PolynomialXform:\"polynomial\"})],u.prototype,\"type\",void 0),u=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport n from\"./IdentityTransform.js\";import o from\"./PolynomialTransform.js\";const t={PolynomialXform:o,IdentityXform:n},r=Object.keys(t);function e(n){const o=null==n?void 0:n.type;return!n||r.includes(o)}function l(n){if(!(null==n?void 0:n.type))return null;const o=t[null==n?void 0:n.type];if(o){const t=new o;return t.read(n),t}return null}export{e as isTransformSupported,l as readTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import{isSome as r}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../RasterInfo.js\";import a from\"../RasterStorageInfo.js\";import n from\"../TileInfo.js\";import l from\"./BaseRaster.js\";import f from\"./DBFParser.js\";import{isTransformSupported as m,readTransform as c}from\"../rasterTransforms/utils.js\";import p from\"../../../rest/support/FeatureSet.js\";import d from\"../../../geometry/SpatialReference.js\";import u from\"../../../geometry/Extent.js\";import h from\"../../../geometry/Point.js\";const g=new Map;g.set(\"int16\",\"esriFieldTypeSmallInteger\"),g.set(\"int32\",\"esriFieldTypeInteger\"),g.set(\"int64\",\"esriFieldTypeInteger\"),g.set(\"float32\",\"esriFieldTypeSingle\"),g.set(\"float64\",\"esriFieldTypeDouble\"),g.set(\"text\",\"esriFieldTypeString\");const y=8;let x=class extends l{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat=\"CRF\"}async open(e){await this.init();const{data:r}=await this.request(this.url+\"/conf.json\",{signal:null==e?void 0:e.signal});if(!this._validateHeader(r))throw new t(\"cloudraster:open\",\"Invalid or unsupported conf.json.\");this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{storageInfo:o,rasterInfo:i}=this._parseHeader(r);if(\"thematic\"===i.dataType){const e=await this._fetchAuxiliaryInformation();i.attributeTable=e}this._set(\"storageInfo\",o),this._set(\"rasterInfo\",i),this.ioConfig.retryCount=this.ioConfig.retryCount||0}async fetchRawTile(e,t,r,o={}){const i=this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(i<0)return null;const s=this._buildCacheFilePath(i,t,r,o.multidimensionalDefinition),a=this._getIndexRecordFromBundle(t,r),n=await this.request(s,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:\"array-buffer\",signal:o.signal});if(!n)return null;const l=new Uint8Array(n.data),f=this._getTileEndAndContentType(l,a);if(0===f.recordSize)return null;const m=await this.request(s,{range:{from:f.position,to:f.position+f.recordSize},responseType:\"array-buffer\",signal:o.signal});return m?this.decodePixelBlock(m.data,{width:this.rasterInfo.storageInfo.tileInfo.size[0],height:this.rasterInfo.storageInfo.tileInfo.size[1],planes:null,pixelType:null}):null}_validateHeader(e){const t=[\"origin\",\"extent\",\"geodataXform\",\"LODInfos\",\"blockWidth\",\"blockHeight\",\"bandCount\",\"pixelType\",\"pixelSizeX\",\"pixelSizeY\",\"format\",\"packetSize\"];return e&&\"RasterInfo\"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){var t,r;const o=[\"u1\",\"u2\",\"u4\",\"u8\",\"s8\",\"u16\",\"s16\",\"u32\",\"s32\",\"f32\",\"f64\"][e.pixelType],{bandCount:i,histograms:l,colormap:f,blockWidth:m,blockHeight:c,firstPyramidLevel:p,maximumPyramidLevel:g}=e,x=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),I=e.extent.spatialReference,S=null==(t=e.geodataXform)?void 0:t.spatialReference,v=new d(null!=I&&I.wkid||null!=I&&I.wkt?I:S);let w=new u({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:v});const b=new h({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:v}),T=Math.round((w.xmax-w.xmin)/b.x),j=Math.round((w.ymax-w.ymin)/b.y),z=this._parseTransform(e.geodataXform),_=z?w:null;z&&(w=z.forwardTransform(w),b.x=(w.xmax-w.xmin)/T,b.y=(w.ymax-w.ymin)/j);const k=null!=(r=e.properties)?r:{},C=e.format.toLowerCase().replace(\"cache/\",\"\"),R=new h(e.origin.x,e.origin.y,v);let F,P,H,L;if(f&&f.colors)for(F=[],P=0;P<f.colors.length;P++)H=f.colors[P],L=f.values?f.values[P]:P,F.push([L,255&H,H<<16>>>24,H<<8>>>24,H>>>24]);const D=e.LODInfos,M=[];for(P=0;P<D.levels.length;P++)M.push({level:D.levels[P],resolution:D.resolutions[P],scale:96/.0254*D.resolutions[P]});const B=new n({dpi:96,lods:M,format:C,origin:R,size:[m,c],spatialReference:v}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},$=[{maxCol:Math.ceil(T/m)-1,maxRow:Math.ceil(j/c)-1,minCol:0,minRow:0}];let q=2;if(g>0)for(P=0;P<g;P++)$.push({maxCol:Math.ceil(T/q/m)-1,maxRow:Math.ceil(j/q/c)-1,minCol:0,minRow:0}),q*=2;const A=e.mdInfo;return{storageInfo:O,rasterInfo:new s({width:T,height:j,pixelType:o,bandCount:i,extent:w,nativeExtent:_,transform:z,spatialReference:v,pixelSize:b,keyProperties:k,statistics:x,histograms:l,multidimensionalInfo:A,colormap:F,storageInfo:new a({blockWidth:m,blockHeight:c,pyramidBlockWidth:m,pyramidBlockHeight:c,origin:R,tileInfo:B,firstPyramidLevel:p,maximumPyramidLevel:g,blockBoundary:$})})}}_parseTransform(e){var r,o;if(!m(e))throw new t(\"cloudraster:open\",\"the data contains unsupported geodata transform types\");const i=c(e);if(\"identity\"===i.type)return null;if(\"polynomial\"!==i.type||null==(r=i.forwardCoefficients)||!r.length||null==(o=i.inverseCoefficients)||!o.length)throw new t(\"cloudraster:open\",\"the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently\");return i}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+\"/conf.vat.json\",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+\"/conf.vat.dbf\",{responseType:\"array-buffer\",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:\"OID\"===e.name?\"esriFieldTypeOID\":g.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r})}}if(!i&&o[1]){i=f.parse(o[1]).recordSet}return p.fromJSON(i)}_buildCacheFilePath(e,t,o,i){const s=this.storageInfo.packetSize,a=Math.floor(t/s)*s,n=Math.floor(o/s)*s,l=\"R\"+this._toHexString4(a)+\"C\"+this._toHexString4(n);let f=\"L\";f+=e>=10?e.toString():\"0\"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,c=null==i?void 0:i[0];if(!r(m)||!c)return`${this.url}/_alllayers/${f}/${l}.bundle`;let p=m.variables.filter((e=>e.name===c.variableName))[0].dimensions[0].values.indexOf(c.values[0]).toString(16);const d=4-p.length;for(let r=0;r<d;r++)p=\"0\"+p;return p=\"S\"+p,`${this.url}/_alllayers/${c.variableName}/${p}/${f}/${l}.bundle`}_getIndexRecordFromBundle(e,t){const r=this.storageInfo.packetSize,o=r*(e%r)+t%r;if(o<0)throw\"Invalid level / row / col\";return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return{position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t=\"0\"+t}return t}};e([o({readOnly:!0})],x.prototype,\"storageInfo\",void 0),e([o({type:String,json:{write:!0}})],x.prototype,\"datasetFormat\",void 0),x=e([i(\"esri.layers.support.rasterDatasets.CloudRaster\")],x);var I=x;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isSome as s}from\"../../../core/maybe.js\";import{eachAlways as r}from\"../../../core/promiseUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../RasterInfo.js\";import m from\"./BaseRaster.js\";import{split as n,estimateStatisticsHistograms as l}from\"../rasterFunctions/pixelUtils.js\";import p from\"../../../geometry/Extent.js\";import c from\"../../../geometry/SpatialReference.js\";let h=class extends m{constructor(){super(...arguments),this.datasetFormat=\"MEMORY\"}async open(t){var e;await this.init();const{pixelBlock:s,statistics:r,histograms:i,name:o,keyProperties:m,nativeExtent:n,transform:l}=this.data,{width:h,height:d,pixelType:f}=s,u=this.data.extent||new p({xmin:-.5,ymin:.5,xmax:h-.5,ymax:d-.5,spatialReference:new c({wkid:3857})}),y=null!=(e=this.data.isPseudoSpatialReference)?e:!this.data.extent,x={x:u.width/h,y:u.height/d},g=new a({width:h,height:d,pixelType:f,extent:u,nativeExtent:n,transform:l,pixelSize:x,spatialReference:u.spatialReference,bandCount:3,keyProperties:m||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set(\"rasterInfo\",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=o,this.url=\"/InMemory/\"+o}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,i,o){const a=this.rasterInfo.storageInfo.maximumPyramidLevel,m=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:i,maximumPyramidLevel:a},o):Promise.resolve(n(t,i,a)),p=s(this.rasterInfo.statistics),c=s(this.rasterInfo.histograms),h=p&&c?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},o):Promise.resolve(l(t)),d=await r([m,h]);if(!d[0].value&&d[1].value)throw new e(\"inmemory-raster:open\",\"failed to build in memory raster\");var f,u;(this._pixelBlockTiles=d[0].value,p)||(this.rasterInfo.statistics=null==(f=d[1].value)?void 0:f.statistics);c&&(this.rasterInfo.histograms=null==(u=d[1].value)?void 0:u.histograms)}};t([i({type:String,json:{write:!0}})],h.prototype,\"datasetFormat\",void 0),t([i()],h.prototype,\"data\",void 0),h=t([o(\"esri.layers.support.rasterDatasets.InMemoryRaster\")],h);var d=h;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.indexOf(\"/\")>-1?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item[n]);return r}function e(t,l){if(!t||!l)return null;let r=l;l.indexOf(\"/\")>-1?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return null==l?void 0:l.split(\" \").map((n=>Number(n)))}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){var t;const l=null==n||null==(t=n.nodeName)?void 0:t.toLowerCase(),r=e.toLowerCase();return l.slice(l.lastIndexOf(\":\")+1)===r}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSameTagIgnoreNS as e,getElementValue as t,getElements as n,getElement as r,getElementNumericValue as s,getElementNumericValues as a}from\"./xmlUtilities.js\";import i from\"../rasterTransforms/PolynomialTransform.js\";import l from\"../../../geometry/SpatialReference.js\";function o(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function u(e){var n;const l=r(e,\"GeodataXform\"),u=c(s(l,\"SpatialReference/WKID\")||t(l,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==l.getAttribute(\"xsi:type\"))return{spatialReference:u,transform:null};const f=null!=(n=s(l,\"PolynomialOrder\"))?n:1,m=a(l,\"CoeffX/Double\"),d=a(l,\"CoeffY/Double\"),p=a(l,\"InverseCoeffX/Double\"),S=a(l,\"InverseCoeffY/Double\"),C=o(m,d),I=o(p,S);return{spatialReference:u,transform:new i({spatialReference:u,polynomialOrder:f,forwardCoefficients:C,inverseCoefficients:I})}}function f(e){var a;const i=s(e,\"NoDataValue\"),l=r(e,\"Histograms/HistItem\"),o=s(l,\"HistMin\"),u=s(l,\"HistMax\"),f=s(l,\"BucketCount\"),c=null==(a=t(l,\"HistCounts\"))?void 0:a.split(\"|\").map((e=>Number(e)));let m,d,p,S;n(e,\"Metadata/MDI\").forEach((e=>{var t;const n=Number(null!=(t=e.textContent)?t:e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":m=n;break;case\"STATISTICS_MAXIMUM\":d=n;break;case\"STATISTICS_MEAN\":p=n;break;case\"STATISTICS_STDDEV\":S=n}}));const C=s(e,\"Metadata/SourceBandIndex\");return{noDataValue:i,histogram:null!=c&&c.length&&null!=m&&null!=d?{min:o,max:u,size:f||c.length,counts:c}:null,sourceBandIndex:C,statistics:null!=m&&null!=d?{min:m,max:d,avg:p,stddev:S}:null}}function c(e){if(!e)return null;let t=Number(e);if(!isNaN(t)&&0!==t)return new l({wkid:t});if((e=String(e)).startsWith(\"COMPD_CS\")){if(!e.includes(\"VERTCS\")||!e.includes(\"GEOGCS\")&&!e.startsWith(\"PROJCS\"))return null;const n=e.indexOf(\"VERTCS\"),r=e.indexOf(\"PROJCS\"),s=r>-1?r:e.indexOf(\"GEOGCS\");if(-1===s)return null;const a=e.slice(s,e.lastIndexOf(\"]\",n)+1).trim(),i=e.slice(s,e.lastIndexOf(\"]\")).trim();t=m(a);const o=new l(t?{wkid:t}:{wkt:a}),u=m(i);return u&&(o.vcsWkid=u),o}return e.startsWith(\"GEOGCS\")||e.startsWith(\"PROJCS\")?(t=m(e),new l(0!==t?{wkid:t}:{wkt:e})):null}function m(e){const t=e.replace(/\\]/g,\"[\").replace(/\\\"/g,\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),n=t[t.length-1].split(\",\");if(\"EPSG\"===n[0]&&e.endsWith('\"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function d(r){var s;if(\"pamdataset\"!==(null==r||null==(s=r.documentElement.tagName)?void 0:s.toLowerCase()))return{};const a={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};r.documentElement.childNodes.forEach((r=>{if(1===r.nodeType)if(e(r,\"SRS\")){if(!a.spatialReference){const e=t(r);a.spatialReference=c(e)}}else if(e(r,\"Metadata\"))if(\"xml:ESRI\"===r.getAttribute(\"domain\")){const{spatialReference:e,transform:t}=u(r);a.transform=t,a.spatialReference||(a.spatialReference=e)}else{n(r,\"MDI\").forEach((e=>a.metadata[e.getAttribute(\"key\")]=t(e)))}else if(e(r,\"PAMRasterBand\")){const e=f(r);null!=e.sourceBandIndex&&null==a.rasterBands[e.sourceBandIndex]?a.rasterBands[e.sourceBandIndex]=e:a.rasterBands.push(e)}}));const i=a.rasterBands;if(i){const e=!!i[0].statistics;a.statistics=e?i.map((e=>e.statistics)):null;const t=!!i[0].histogram;a.histograms=t?i.map((e=>e.histogram)):null}return a}export{d as parsePAMInfo,c as parseSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{unwrap as r}from\"../../../core/maybe.js\";import{eachAlways as s,createAbortError as a}from\"../../../core/promiseUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./BaseRaster.js\";import l from\"./InMemoryRaster.js\";import{parsePAMInfo as m}from\"./pamParser.js\";import{getFormat as p}from\"../rasterFormats/RasterCodec.js\";import{estimateStatisticsFromHistograms as c}from\"../rasterFunctions/pixelUtils.js\";import f from\"../rasterTransforms/PolynomialTransform.js\";import u from\"../../../geometry/SpatialReference.js\";import h from\"../../../geometry/Extent.js\";let d=class extends n{async open(t){await this.init();const e=await this._fetchData(t);let{spatialReference:r,statistics:s,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const i=!r;i&&(r=new u({wkid:3857})),null!=a&&a.length&&null==s&&(s=c(a));const{width:n,height:m}=e;let p=new h({xmin:-.5,ymin:.5-m,xmax:n-.5,ymax:.5,spatialReference:r});const f=o?o.forwardTransform(p):p;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,p=f)}const w=new l({data:{extent:f,nativeExtent:p,transform:o,pixelBlock:e,statistics:s,histograms:a,keyProperties:{DateType:\"Processed\"},isPseudoSpatialReference:i}});await w.open(),this._set(\"rasterInfo\",w.rasterInfo),this._inMemoryRaster=w}fetchRawTile(t,e,r,s={}){return this._inMemoryRaster.fetchRawTile(t,e,r,s)}async _fetchData(t){const{data:r}=await this.request(this.url,{responseType:\"array-buffer\",signal:null==t?void 0:t.signal}),s=p(r).toUpperCase();if(\"JPG\"!==s&&\"PNG\"!==s&&\"GIF\"!==s&&\"BMP\"!==s)throw new e(\"image-aux-raster:open\",\"the data is not a supported format\");this._set(\"datasetFormat\",s);return await this.decodePixelBlock(r,{format:\"jpg\",width:1,height:1,useCanvas:!0})}async _fetchAuxiliaryData(t){var e,o;const i=r(null==t?void 0:t.signal),n=null!=(e=this.ioConfig.skipExtensions)?e:[],l=n.indexOf(\"aux.xml\")>-1?null:this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:i}),p=this.datasetFormat,c=\"JPG\"===p?\"jgw\":\"PNG\"===p?\"pgw\":\"BMP\"===p?\"bpw\":null,u=n.indexOf(c)>-1?null:this.request(this.url.slice(0,this.url.lastIndexOf(\".\"))+\".\"+c,{responseType:\"text\",signal:i}),h=await s([l,u]);if(null!=i&&i.aborted)throw a();const d=m(null==(o=h[0].value)?void 0:o.data);if(!d.transform){const t=h[1].value?h[1].value.data.split(\"\\n\").slice(0,6).map((t=>Number(t))):null;d.transform=6===(null==t?void 0:t.length)?new f({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return d}};t([o({type:String,json:{write:!0}})],d.prototype,\"datasetFormat\",void 0),d=t([i(\"esri.layers.support.rasterDatasets.ImageAuxRaster\")],d);var w=d;export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./BaseRasterTransform.js\";let a=class extends t{constructor(){super(...arguments),this.type=\"gcs-shift\",this.tolerance=1e-8}forwardTransform(r){return\"point\"===(r=r.clone()).type?(r.x>180+this.tolerance&&(r.x-=360),r):(r.xmin>=180-this.tolerance?(r.xmax-=360,r.xmin-=360):r.xmax>180+this.tolerance&&(r.xmin=-180,r.xmax=180),r)}inverseTransform(r){return\"point\"===(r=r.clone()).type?(r.x<-this.tolerance&&(r.x+=360),r):(r.xmin<-this.tolerance&&(r.xmin+=360,r.xmax+=360),r)}};r([e({GCSShiftXform:\"gcs-shift\"})],a.prototype,\"type\",void 0),r([o()],a.prototype,\"tolerance\",void 0),a=r([s(\"esri.layers.support.rasterTransforms.GCSShiftTransform\")],a);var c=a;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import{isSome as i,unwrap as s}from\"../../../core/maybe.js\";import{urlToObject as a}from\"../../../core/urlUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../RasterInfo.js\";import o from\"../RasterStorageInfo.js\";import{readServiceTileInfo as m}from\"../serviceTileInfoProperty.js\";import c from\"../TileInfo.js\";import{TilemapCache as h}from\"../TilemapCache.js\";import u from\"./BaseRaster.js\";import{setValidBoundary as f}from\"../rasterFunctions/pixelUtils.js\";import p from\"../rasterTransforms/GCSShiftTransform.js\";import d from\"../../../rest/support/FeatureSet.js\";import y from\"../../../geometry/SpatialReference.js\";import x from\"../../../geometry/Extent.js\";import g from\"../../../geometry/Point.js\";let v=class extends u{constructor(){super(...arguments),this._levelOffset=0,this._slices=null,this._tilemapCache=null,this.datasetFormat=\"RasterTileServer\"}async open(e){await this.init();const s=e&&e.signal,r=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:\"json\"},signal:s});r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const l=r.data;if(this.sourceJSON=l,!l)throw new t(\"imageserverraster:open\",\"cannot initialize tiled image service, missing service info\");if(!l.tileInfo)throw new t(\"imageserverraster:open\",\"use ImageryLayer to open non-tiled image services\");this._fixScaleInServiceInfo();const n=[\"jpg\",\"jpeg\",\"png\",\"png8\",\"png24\",\"png32\",\"mixed\"];this.tileType=l.cacheType,null==this.tileType&&(n.indexOf(l.tileInfo.format.toLowerCase())>-1?this.tileType=\"Map\":\"lerc\"===l.tileInfo.format.toLowerCase()?this.tileType=\"Elevation\":this.tileType=\"Raster\"),this.datasetName=l.name.slice(l.name.indexOf(\"/\")+1);const u=await this._fetchRasterInfo({signal:s});if(!i(u))throw new t(\"image-server-raster:open\",\"cannot initialize image service\");{const e=\"Map\"===this.tileType?m(l.tileInfo,l):c.fromJSON(l.tileInfo),{extent:t,pixelSize:i}=u,s=.5/u.width*i.x;let a,r;const n=e.lodAt(Math.max.apply(null,e.lods.map((e=>e.level))));\"Map\"!==this.tileType&&0!==l.maxScale&&(\"Raster\"===this.tileType?(a=e.lods.filter((e=>e.resolution===i.x))[0],a||(a=e.lods[e.lods.length-1])):(a=e.lods.filter((e=>Math.abs(e.scale-l.maxScale)<s))[0],a||(a=e.lods.filter((e=>e.scale>l.maxScale)).sort(((e,t)=>e.scale>t.scale?1:-1))[0])),i.x=i.y=a.resolution,u.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),u.height=Math.ceil((t.ymax-t.ymin)/i.y-.1)),a||(a=n);const h=e.lodAt(Math.min.apply(null,e.lods.map((e=>e.level))));\"Map\"===this.tileType?this._levelOffset=e.lods[0].level:0!==l.minScale&&\"Elevation\"===this.tileType&&(r=e.lods.filter((e=>Math.abs(e.scale-l.minScale)<s))[0],this._levelOffset=r.level-h.level),r||(r=h);const f=Math.max(i.x,i.y);(Math.abs(i.x-i.y)>s||!e.lods.some((e=>Math.abs(e.resolution-f)<s)))&&(i.x=i.y=a.resolution,u.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),u.height=Math.ceil((t.ymax-t.ymin)/i.y-.1));const p=a.level-r.level,[d,y]=e.size,x=[];e.lods.forEach((e=>{e.level>=r.level&&e.level<=a.level&&x.push({x:e.resolution,y:e.resolution})})),x.sort(((e,t)=>e.x-t.x));const g=this.computeBlockBoundary(t,d,y,e.origin,x,p),v=x.length>1?x.slice(1):null;u.storageInfo=new o({blockWidth:e.size[0],blockHeight:e.size[1],pyramidBlockWidth:e.size[0],pyramidBlockHeight:e.size[1],pyramidResolutions:v,compression:e.format,origin:e.origin,firstPyramidLevel:1,maximumPyramidLevel:p,tileInfo:e,blockBoundary:g}),this._fixGCSShift(u),this._set(\"rasterInfo\",u)}if(l.capabilities.toLowerCase().indexOf(\"tilemap\")>-1){const e={tileInfo:u.storageInfo.tileInfo,parsedUrl:a(this.url),url:this.url,tileServers:[],type:\"tile\"};this._tilemapCache=new h({layer:e})}}async fetchRawTile(e,t,i,s={}){const{storageInfo:a,extent:r}=this.rasterInfo,l=a.maximumPyramidLevel-e+this._levelOffset,n=`${this.url}/tile/${l}/${t}/${i}`,o=this._slices?{sliceId:s.sliceId||0}:null,{data:m}=await this.request(n,{query:o,responseType:\"array-buffer\",signal:s.signal});if(!m)return null;const c=await this.decodePixelBlock(m,{width:a.tileInfo.size[0],height:a.tileInfo.size[1],planes:null,pixelType:null,isPoint:\"Elevation\"===this.tileType}),h=a.blockBoundary[e];if(\"jpg\"!==a.compression||i>h.minCol&&i<h.maxCol&&t>h.minRow&&t<h.maxRow)return c;const{origin:u,blockWidth:p,blockHeight:d}=a,{x:y,y:x}=this.getPyramidPixelSize(e),g=Math.round((r.xmin-u.x)/y)%p,v=Math.round((r.xmax-u.x)/y)%p,S=Math.round((u.y-r.ymax)/x)%d,w=Math.round((u.y-r.ymin)/x)%d,I=i===h.minCol?g:0,b=t===h.minRow?S:0,j=i===h.maxCol?v:p,T=t===h.maxRow?w:d;return f(c,{x:I,y:b},{width:j-I,height:T-b}),c}getSliceIndex(e){if(null==e||!e.length||!this._slices)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.filter((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName))[0];if(!i)return!0;return(Array.isArray(e.values[0])?e.values[0][0]:e.values[0])!==(Array.isArray(i.values[0])?i.values[0][0]:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+\"/statistics\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.statistics})),s=this.request(this.url+\"/histograms\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),a=await Promise.all([i,s]);return a[0]&&a[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),{statistics:a[0]||null,histograms:a[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,s(t.datumTransformation));if(null===i)return null;let a=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let l=r-a+this._levelOffset;const n=i.srcLocation;for(;l>=0;){try{if(\"available\"===await this._tilemapCache.fetchAvailability(l,i.row,i.col,t))break}catch{}if(l--,a++,i=this.identifyPixelLocation(n,a,s(t.datumTransformation)),null===i)return null}return-1===l||null==i?null:a}async _fetchRasterInfo(e){const t=this.sourceJSON,i=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),s=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),a=y.fromJSON(t.spatialReference||t.extent.spatialReference);if(\"Map\"===this.tileType)return new n({width:i,height:s,bandCount:3,extent:x.fromJSON(t.extent),spatialReference:a,pixelSize:new g({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:\"u8\",statistics:null,keyProperties:{DataType:\"processed\"}});const{slice:r,signal:l}=e,o=!!t.hasRasterAttributeTable&&this.request(this.url+\"/rasterAttributeTable\",{query:{slice:r,f:\"json\"},signal:l}).then((e=>d.fromJSON(e.data))).catch((()=>null)),m=!!t.hasColormap&&this.request(this.url+\"/colormap\",{query:{slice:r,f:\"json\"},signal:l}).then((e=>{var t;return null==(t=e.data)?void 0:t.colormap})),c=!!t.hasHistograms&&this.request(this.url+\"/histograms\",{query:{slice:r,f:\"json\"},signal:l}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),h=this.request(this.url+\"/keyProperties\",{query:{f:\"json\"},signal:l}).then((e=>e.data)).catch((()=>{})),u=!!t.hasMultidimensions&&this._fetchMultidimensionalInfo(),f=!!t.hasMultidimensions&&this.request(this.url+\"/slices\",{query:{f:\"json\"},signal:l}).then((e=>e.data&&e.data.slices)).catch((()=>{}));return Promise.all([o,m,c,h,u,f]).then((e=>{let r=null;if(t.minValues&&t.minValues.length===t.bandCount){r=[];for(let e=0;e<t.minValues.length;e++)r.push({min:t.minValues[e],max:t.maxValues[e],avg:t.meanValues[e],stddev:t.stdvValues[e]})}return this._slices=e[5]||null,new n({width:i,height:s,bandCount:t.bandCount,extent:x.fromJSON(t.extent),spatialReference:a,pixelSize:new g({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:t.pixelType.toLowerCase(),statistics:r,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}async _fetchMultidimensionalInfo(e){var t;const i=await this.request(this.url+\"/multidimensionalInfo\",{query:{f:\"json\"},signal:e}).then((e=>{var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));return null!=(t=i.variables)&&t.length&&i.variables.forEach((e=>{var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation}))})),i}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_fixGCSShift(e){const{extent:t,spatialReference:i}=e;0===t.xmin&&360===t.xmax&&i.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new p,e.extent=e.transform.forwardTransform(t))}};e([r({type:String,json:{write:!0}})],v.prototype,\"datasetFormat\",void 0),e([r()],v.prototype,\"tileType\",void 0),v=e([l(\"esri.layers.support.rasterDatasets.ImageServerRaster\")],v);var S=v;export default S;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{unwrap as r,isSome as s}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../PixelBlock.js\";import n from\"../RasterInfo.js\";import l from\"../RasterStorageInfo.js\";import f from\"./BaseRaster.js\";import{parseSpatialReference as c,parsePAMInfo as p}from\"./pamParser.js\";import{getElement as m,getElementValue as h}from\"./xmlUtilities.js\";import{isPlatformLittleEndian as u}from\"../rasterFormats/utils.js\";import{estimateStatisticsFromHistograms as g}from\"../rasterFunctions/pixelUtils.js\";import d from\"../../../geometry/SpatialReference.js\";import y from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const w=new Map;w.set(\"Int8\",\"s8\"),w.set(\"UInt8\",\"u8\"),w.set(\"Int16\",\"s16\"),w.set(\"UInt16\",\"u16\"),w.set(\"Int32\",\"s32\"),w.set(\"UInt32\",\"u32\"),w.set(\"Float32\",\"f32\"),w.set(\"Float64\",\"f32\"),w.set(\"Double64\",\"f32\");const I=new Map;I.set(\"lerc\",\".lrc\"),I.set(\"none\",\".til\"),I.set(\"deflate\",\".pzp\"),I.set(\"jpeg\",\".jzp\");let b=class extends f{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat=\"MRF\"}async open(t){var e;await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const o=t?r(t.signal):null,i=await this.request(this.url,{responseType:\"xml\",signal:o}),{rasterInfo:a,files:n}=this._parseHeader(i.data);if(-1===(null==(e=this.ioConfig.skipExtensions)?void 0:e.indexOf(\"aux.xml\"))){const e=await this._fetchAuxiliaryData(t);var l;if(null!=e)a.statistics=null!=(l=e.statistics)?l:a.statistics,a.histograms=e.histograms,e.histograms&&!s(a.statistics)&&(a.statistics=g(e.histograms))}this._set(\"rasterInfo\",a),this._files=n;const f=await this.request(n.index,{responseType:\"array-buffer\",signal:o});this._storageIndex=this._parseIndex(f.data);let c,p,m=0,h=-1;const{blockWidth:u,blockHeight:d,compression:y}=this.rasterInfo.storageInfo,x=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:w,height:I,bandCount:b}=this.rasterInfo,A=[],R=\"none\"===y?1:b;for(;m<this._storageIndex.length;)h++,c=Math.ceil(w/u/x**h),p=Math.ceil(I/d/x**h),m+=c*p*R*4,A.push({maxRow:p,maxCol:c,minCol:0,minRow:0});this.rasterInfo.storageInfo.blockBoundary=A,h>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=h),this.updateTileInfo()}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:i,blockBoundary:n,compression:l}=this.rasterInfo.storageInfo,f=n[t];if(!f||f.maxRow<e||f.maxCol<r||f.minRow>e||f.minCol>r)return null;const{bandCount:c,pixelType:p}=this.rasterInfo,{ranges:m,actualTileWidth:h,actualTileHeight:u}=this._getTileLocation(t,e,r);if(!m||0===m.length)return null;if(0===m[0].from&&0===m[0].to){const t=new Uint8Array(o*i);return new a({width:o,height:i,pixels:null,mask:t,validPixelCount:0})}const{bandIds:g}=this.ioConfig,d=\"none\"===l?1:c,y=[];let x=0;for(x=0;x<d;x++)(!g||g.indexOf[x]>-1)&&y.push(this.request(this._files.data,{range:{from:m[x].from,to:m[x].to},responseType:\"array-buffer\",signal:s.signal}));const w=await Promise.all(y),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(x=0;x<d;x++)b.set(new Uint8Array(w[x].data),A),A+=w[x].data.byteLength;const R=\"lerc\"===this.rasterInfo.storageInfo.compression?\"lerc\":\"bip\",_=await this.decodePixelBlock(b.buffer,{width:o,height:i,format:R,pixelType:p});let j=0,F=0;if(h!==o||u!==i){let t=_.mask;if(t)for(x=0;x<i;x++)if(F=x*o,x<u)for(j=h;j<o;j++)t[F+j]=0;else for(j=0;j<o;j++)t[F+j]=0;else for(t=new Uint8Array(o*i),_.mask=t,x=0;x<u;x++)for(F=x*o,j=0;j<h;j++)t[F+j]=1}return _}_parseIndex(t){if(t.byteLength%16>0)throw\"invalid array buffer must be multiples of 16\";let e,r,s,o,i,a;if(u){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i,compression:a}=this.rasterInfo.storageInfo,{width:n,height:l,bandCount:f}=this.rasterInfo,c=\"none\"===a?1:f;let p,m,h,u=0,g=0;for(h=0;h<t;h++)g=i**h,p=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=p*m;g=i**t,p=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=e*p+r,u*=4*c;const d=this._storageIndex.subarray(u,u+4*c);let y=0,x=0;const w=[];for(let I=0;I<c;I++)y=d[4*I+0]*2**32+d[4*I+1],x=y+d[4*I+2]*2**32+d[4*I+3],w.push({from:y,to:x});return{ranges:w,actualTileWidth:r<p-1?s:Math.ceil(n/g)-s*(p-1),actualTileHeight:e<m-1?o:Math.ceil(l/g)-o*(m-1)}}_parseHeader(t){const r=m(t,\"MRF_META/Raster\");if(!r)throw new e(\"mrf:open\",\"not a valid MRF format\");const s=m(r,\"Size\"),o=parseInt(s.getAttribute(\"x\"),10),i=parseInt(s.getAttribute(\"y\"),10),a=parseInt(s.getAttribute(\"c\"),10),f=(h(r,\"Compression\")||\"none\").toLowerCase();if(!f||-1===[\"none\",\"lerc\"].indexOf(f))throw new e(\"mrf:open\",\"currently does not support compression \"+f);const p=h(r,\"DataType\")||\"UInt8\",u=w.get(p);if(null==u)throw new e(\"mrf:open\",\"currently does not support pixel type \"+p);const g=m(r,\"PageSize\"),b=parseInt(g.getAttribute(\"x\"),10),A=parseInt(g.getAttribute(\"y\"),10),R=m(r,\"DataValues\");let _,j;R&&(j=R.getAttribute(\"NoData\"),null!=j&&(_=j.trim().split(\" \").map((t=>parseFloat(t)))));if(m(t,\"MRF_META/CachedSource\"))throw new e(\"mrf:open\",\"currently does not support MRF referencing other data files\");const F=m(t,\"MRF_META/GeoTags\"),M=m(F,\"BoundingBox\");if(null==M)throw new e(\"mrf:open\",\"missing node MRF_META/GeoTags/BoundingBox\");const T=parseFloat(M.getAttribute(\"minx\")),k=parseFloat(M.getAttribute(\"miny\")),C=parseFloat(M.getAttribute(\"maxx\")),L=parseFloat(M.getAttribute(\"maxy\")),S=h(F,\"Projection\")||\"\",U=h(t,\"datafile\"),v=h(t,\"IndexFile\");let B;if(\"LOCAL_CS[]\"!==S)if(S.toLowerCase().startsWith(\"epsg:\")){const t=Number(S.slice(5));isNaN(t)||0===t||(B=new d({wkid:t}))}else B=c(S);const P=new y(T,k,C,L);P.spatialReference=B;const H=m(t,\"MRF_META/Rsets\"),E=parseInt(H&&H.getAttribute(\"scale\")||\"2\",10),W=new l({origin:new x({x:P.xmin,y:P.ymax,spatialReference:B}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:f,pyramidScalingFactor:E}),D=new x({x:(C-T)/o,y:(L-k)/i,spatialReference:B});return{rasterInfo:new n({width:o,height:i,extent:P,spatialReference:B,bandCount:a,pixelType:u,pixelSize:D,noDataValue:_,storageInfo:W}),files:{mrf:this.url,index:v||this.url.replace(\".mrf\",\".idx\"),data:U||this.url.replace(\".mrf\",I.get(f))}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==t?void 0:t.signal});return p(e)}catch{return null}}};t([o()],b.prototype,\"_files\",void 0),t([o()],b.prototype,\"_storageIndex\",void 0),t([o({type:String,json:{write:!0}})],b.prototype,\"datasetFormat\",void 0),b=t([i(\"esri.layers.support.rasterIO.MRFRaster\")],b);var A=b;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../core/Error.js\";import{unwrap as r,isSome as i}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../RasterInfo.js\";import o from\"../RasterStorageInfo.js\";import l from\"./BaseRaster.js\";import{parseSpatialReference as f,parsePAMInfo as u}from\"./pamParser.js\";import{p as m,g as p,b as c,c as h,i as d}from\"../../../chunks/TiffDecoder.js\";import y from\"../rasterFormats/TiffTags.js\";import{estimateStatisticsFromHistograms as g}from\"../rasterFunctions/pixelUtils.js\";import x from\"../rasterTransforms/PolynomialTransform.js\";import T from\"../../../geometry/SpatialReference.js\";import I from\"../../../geometry/Extent.js\";import w from\"../../../geometry/Point.js\";const b=function(e,t){const r=e.get(t);return r&&r.values},E=function(e,t){const r=e.get(t);return r&&r.values[0]};let S=class extends l{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat=\"TIFF\"}async open(e){var s,a,l;await this.init();const u=e?r(e.signal):null,{data:c}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:\"array-buffer\",signal:u});if(!c)throw new t(\"tiffraster:open\",\"failed to open url \"+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const{littleEndian:h,firstIFD:d,isBigTiff:y}=m(c),b=[];await this.readIFDs(b,c,h,d,0,y?8:4,u);const E=p(b),{width:S,height:v,tileWidth:F,tileHeight:R,planes:_,pixelType:k,compression:j,firstPyramidLevel:B,maximumPyramidLevel:L,pyramidBlockWidth:D,pyramidBlockHeight:z,tileBoundary:O,affine:P,metadata:H}=E,A=(null==(s=E.extent.spatialReference)?void 0:s.wkt)||(null==(a=E.extent.spatialReference)?void 0:a.wkid);let G=f(A),q=!1;null==G&&(q=!0,G=new T({wkid:3857}));const C=new I({...E.extent,spatialReference:G}),W=new w(C?{x:C.xmin,y:C.ymax,spatialReference:G}:{x:0,y:0}),Y=new o({blockWidth:F,blockHeight:R,pyramidBlockWidth:D,pyramidBlockHeight:z,compression:j,origin:W,firstPyramidLevel:B,maximumPyramidLevel:L,blockBoundary:O}),U=new w({x:(C.xmax-C.xmin)/S,y:(C.ymax-C.ymin)/v,spatialReference:G}),M=H?{BandProperties:H.bandProperties,DataType:H.dataType}:{},N=new n({width:S,height:v,bandCount:_,pixelType:k,compression:j,pixelSize:U,storageInfo:Y,spatialReference:G,isPseudoSpatialReference:q,keyProperties:M,extent:C,statistics:H?H.statistics:null});if(null!=P&&P.length&&(N.nativeExtent=new I({xmin:-.5,ymin:.5-v,xmax:S-.5,ymax:.5,spatialReference:G}),N.transform=new x({polynomialOrder:1,forwardCoefficients:[P[2]+P[0]/2,P[5]-P[3]/2,P[0],P[3],-P[1],-P[4]]}),N.extent=N.transform.forwardTransform(N.nativeExtent),N.pixelSize=new w({x:(C.xmax-C.xmin)/S,y:(C.ymax-C.ymin)/v,spatialReference:G}),Y.origin.x=-.5,Y.origin.y=.5),null==(l=this.ioConfig.skipExtensions)||!l.includes(\"aux.xml\")){const t=await this._fetchAuxiliaryData(e);if(null!=t){var K;if(N.statistics=null!=(K=t.statistics)?K:N.statistics,N.histograms=t.histograms,t.histograms&&!i(N.statistics)&&(N.statistics=g(t.histograms)),t.transform&&!P){N.transform=t.transform,N.nativeExtent=N.extent;const e=N.transform.forwardTransform(N.nativeExtent);N.pixelSize=new w({x:(e.xmax-e.xmin)/S,y:(e.ymax-e.ymin)/v,spatialReference:G}),N.extent=e}N.spatialReference||(N.spatialReference=t.spatialReference)}}if(this._set(\"rasterInfo\",N),this._headerInfo={littleEndian:h,isBigTiff:y,ifds:b,...E},!this._headerInfo.isSupported)throw new t(\"tiffraster:open\",\"this tiff is not supported: \"+this._headerInfo.message);this.updateTileInfo()}async fetchRawTile(e,t,r,i={}){var s;if(null==(s=this._headerInfo)||!s.isSupported||this.isBlockOutside(e,t,r))return null;const a=this.getTileLocation(e,t,r);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:l,ifd:f}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:\"array-buffer\",signal:i.signal}))),m=await Promise.all(u),p=m.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),c=1===m.length?m[0].data:new ArrayBuffer(p),h=[0],d=[0];if(m.length>1){const e=new Uint8Array(c);for(let t=0,r=0;t<m.length;t++){const i=m[t].data;e.set(new Uint8Array(i),r),h[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),x=await this.decodePixelBlock(c,{format:\"tiff\",customOptions:{headerInfo:this._headerInfo,ifd:f,offsets:h,sizes:d},width:y,height:g,planes:null,pixelType:null});let T,I,w;if(o!==y||l!==g){let e=x.mask;if(e)for(T=0;T<g;T++)if(w=T*y,T<l)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),x.mask=e,T=0;T<l;T++)for(w=T*y,I=0;I<o;I++)e[w+I]=1}return x}async readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:\"array-buffer\",signal:n})).data,s=i+s,i=0}const o=await this.readIFD(t,r,i,s,y.TIFF_TAGS,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this.readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async readIFD(e,t,r,i,s=y.TIFF_TAGS,a=4,n){if(!e)return null;const o=c(e,t,r,i,s,a);if(o.success){const r=[];if(o.ifd.forEach((e=>{e.values||r.push(e)})),r.length>0){const s=r.map((e=>e.offlineOffsetSize)),a=Math.min.apply(null,s.map((e=>e[0])));if(Math.min.apply(null,s.map((e=>e[0]+e[1])))-a<=this._bufferSize){const{data:s}=await this.request(this.url,{range:{from:a,to:a+this._bufferSize},responseType:\"array-buffer\",signal:n});e=s,i=a,r.forEach((r=>h(e,t,r,i)))}}if(o.ifd.has(\"GEOKEYDIRECTORY\")){const r=o.ifd.get(\"GEOKEYDIRECTORY\"),s=r.values;if(s&&s.length>4){const a=s[0]+\".\"+s[1]+\".\"+s[2],o=await this.readIFD(e,t,r.valueOffset+6-i,i,y.GEO_KEYS,2,n);r.data=o.ifd,r.data&&r.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return o}if(o.requiredBufferSize&&o.requiredBufferSize!==e.byteLength){const r=await this.request(this.url,{range:{from:i,to:i+o.requiredBufferSize+4},responseType:\"array-buffer\",signal:n});return(e=r.data).byteLength<o.requiredBufferSize?null:this.readIFD(e,t,0,i,y.TIFF_TAGS,4,n)}}getTileLocation(e,t,r){const{firstPyramidLevel:i,blockBoundary:s}=this.rasterInfo.storageInfo,a=0===e?0:e-(i-1),n=this._headerInfo.ifds[a];if(!n)return null;const o=d(n,this._headerInfo),l=b(n,\"TILEOFFSETS\");if(void 0===l)return null;const f=b(n,\"TILEBYTECOUNTS\"),{minRow:u,minCol:m,maxRow:p,maxCol:c}=s[a];if(t>p||r>c||t<u||r<m)return null;const h=E(n,\"IMAGEWIDTH\"),y=E(n,\"IMAGELENGTH\"),g=E(n,\"TILEWIDTH\"),x=E(n,\"TILELENGTH\"),T=o?this.rasterInfo.bandCount:1,I=T*t*(c+1)+r,w=[{from:l[I],to:l[I+T-1]+f[I+T-1]-1}];if(o){let e=!0;for(let t=0;t<T;t++)if(l[I+t]+f[I+t]!==l[I+t+1]){e=!1;break}if(!e)for(let t=0;t<T;t++)w[t]={from:l[I+t],to:l[I+t]+f[I+t]-1}}const S=l[I],v=f[I];if(null==S||null==v)return null;return{ranges:w,ifd:n,actualTileWidth:r===c?h%g:g,actualTileHeight:t===p?y%x:x}}async _fetchAuxiliaryData(e){try{const{data:t}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:null==e?void 0:e.signal});return u(t)}catch{return null}}};e([s()],S.prototype,\"_files\",void 0),e([s()],S.prototype,\"_headerInfo\",void 0),e([s()],S.prototype,\"_bufferSize\",void 0),e([s({type:String,json:{write:!0}})],S.prototype,\"datasetFormat\",void 0),S=e([a(\"esri.layers.support.rasterDatasets.TIFFRaster\")],S);var v=S;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import r from\"./CloudRaster.js\";import e from\"./ImageAuxRaster.js\";import s from\"./ImageServerRaster.js\";import o from\"./MRFRaster.js\";import a from\"./TIFFRaster.js\";const c=new Map;c.set(\"CRF\",{desc:\"Cloud Raster Format\",constructor:r}),c.set(\"MRF\",{desc:\"Meta Raster Format\",constructor:o}),c.set(\"TIFF\",{desc:\"GeoTIFF\",constructor:a}),c.set(\"RasterTileServer\",{desc:\"Raster Tile Server\",constructor:s}),c.set(\"JPG\",{desc:\"JPG Raster Format\",constructor:e}),c.set(\"PNG\",{desc:\"PNG Raster Format\",constructor:e}),c.set(\"GIF\",{desc:\"GIF Raster Format\",constructor:e}),c.set(\"BMP\",{desc:\"BMP Raster Format\",constructor:e});class n{static get supportedFormats(){const t=new Set;return c.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,sourceJSON:o}=r;let a=r.datasetFormat;null==a&&e.lastIndexOf(\".\")&&(a=e.slice(e.lastIndexOf(\".\")+1).toUpperCase()),\"OVR\"===a||\"TIF\"===a?a=\"TIFF\":\"JPG\"!==a&&\"JPEG\"!==a&&\"JFIF\"!==a||(a=\"JPG\"),e.toLowerCase().indexOf(\"/imageserver\")>-1&&-1===e.toLowerCase().indexOf(\"/wcsserver\")&&(a=\"RasterTileServer\");const n={url:e,sourceJSON:o,datasetFormat:a,ioConfig:s||{bandIds:null,sampling:null}};let i,u;if(this.supportedFormats.has(a))return i=c.get(a).constructor,u=new i(n),await u.open({signal:r.signal}),u;if(a)throw new t(\"rasterfactory:open\",\"not a supported format \"+a);const l=Array.from(c.keys());let m=0;const F=function(){return a=l[m++],a?(i=c.get(a).constructor,u=new i(n),u.open({signal:r.signal}).then((()=>u)).catch((()=>F()))):null};return F()}static register(t,r,e){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:r,constructor:e})}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../PopupTemplate.js\";import{read as t,rasterRendererTypes as o,websceneRasterRendererTypes as i}from\"../rasterRenderers.js\";import s from\"../core/Error.js\";import{isSome as a}from\"../core/maybe.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as n}from\"../core/promiseUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{Integer as d}from\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{enumeration as m}from\"../core/accessorSupport/decorators/enumeration.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"./Layer.js\";import{BlendLayer as h}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as f}from\"./mixins/CustomParametersMixin.js\";import{ImageryTileMixin as g}from\"./mixins/ImageryTileMixin.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{PortalLayer as j}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as S}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as P}from\"./mixins/ScaleRangeLayer.js\";import{legendEnabled as w}from\"./support/commonProperties.js\";import T from\"./support/Field.js\";import{interpolationKebab as b}from\"./support/rasterEnums.js\";import I from\"./support/rasterDatasets/RasterFactory.js\";import{createPopupTemplate as O}from\"../support/popupUtils.js\";function R(){return{enabled:!this.loaded||\"RasterTileServer\"===this.raster.datasetFormat&&\"Raster\"===this.raster.tileType}}let x=class extends(h(P(S(v(j(f(g(p(y))))))))){constructor(...e){super(...e),this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.title=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=a(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).catch(n).then((()=>this._openRaster(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){var e,r;let t=[new T({name:\"Raster.ServicePixelValue\",alias:\"Pixel Value\",domain:null,editable:!1,length:50,type:\"string\"})];const o=null==(e=this.rasterInfo)||null==(r=e.attributeTable)?void 0:r.fields,i=\"Raster.\";if(o){const e=o.filter((e=>\"oid\"!==e.type&&\"value\"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));t=t.concat(e)}return t}set renderer(e){this._set(\"renderer\",e),this.updateRenderer()}readRenderer(e,r,o){const i=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,s=t(i,o)||void 0;if(null!=s)return s}createPopupTemplate(e){return O({fields:this.rasterFields,title:this.title},e)}write(e,r){const{raster:t}=this;if(this.loaded?\"RasterTileServer\"===t.datasetFormat&&(\"Raster\"===t.tileType||\"Map\"===t.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`;r.messages.push(new s(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){this.raster?(this.raster.rasterInfo||await this.raster.open(),this.url=this.raster.url):this.raster=await I.open({url:this.url,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:e});const{rasterInfo:r}=this.raster;if(!r)throw new s(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON&&(this._set(\"version\",this.sourceJSON.currentVersion),this._set(\"copyright\",this.sourceJSON.copyrightText)),null==this.title&&(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.watch(\"customParameters\",(e=>this.raster.ioConfig.customFetchParameters=e))}};e([l({type:[d],json:{write:{overridePolicy:R}}})],x.prototype,\"bandIds\",void 0),e([l({json:{write:{overridePolicy:R}}}),m(b)],x.prototype,\"interpolation\",void 0),e([l({json:{write:!0}})],x.prototype,\"multidimensionalDefinition\",void 0),e([l(w)],x.prototype,\"legendEnabled\",void 0),e([l({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],x.prototype,\"isReference\",void 0),e([l({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),e([l()],x.prototype,\"sourceJSON\",void 0),e([l({readOnly:!0})],x.prototype,\"version\",void 0),e([l()],x.prototype,\"title\",void 0),e([l({readOnly:!0,json:{read:!1}})],x.prototype,\"type\",void 0),e([l({type:[\"ArcGISTiledImageServiceLayer\"]})],x.prototype,\"operationalLayerType\",void 0),e([l({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,r)=>!r.disablePopup},write:{target:\"disablePopup\",overridePolicy:R,writer(e,r,t){r[t]=!e}}}})],x.prototype,\"popupEnabled\",void 0),e([l({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy:R}}})],x.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0})],x.prototype,\"defaultPopupTemplate\",null),e([l({readOnly:!0,type:[T]})],x.prototype,\"fields\",void 0),e([l({readOnly:!0,type:[T]})],x.prototype,\"rasterFields\",null),e([l({types:o,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:R},origins:{\"web-scene\":{types:i,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type})}}}}})],x.prototype,\"renderer\",null),e([u(\"renderer\")],x.prototype,\"readRenderer\",null),x=e([c(\"esri.layers.ImageryTileLayer\")],x);var L=x;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l.validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export default l;export{l as Tilemap,o as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import l from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import a from\"../../core/LRUCache.js\";import o from\"../../core/PooledArray.js\";import{onAbort as n,createAbortError as c,isAbortError as h,createAbortController as p,isAborted as m}from\"../../core/promiseUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as f}from\"../../core/urlUtils.js\";import{init as v}from\"../../core/watchUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{cast as _}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as b,Tilemap as g}from\"./Tilemap.js\";var w;const T=s.getLogger(\"esri.layers.support.TilemapCache\");let j=w=class extends i{constructor(e){super(e),this._handles=new r,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new a(this.cacheByteSize),this._handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\"],(()=>this._initializeTilemapDefinition())),v(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(T.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{n(o,(()=>t(c())));const i=b(s);let l=this._pendingTilemapRequests[i];if(!l){l=g.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const l=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return l?l.getAvailability(t,i):\"unknown\"}getAvailabilityUpsample(e,t,i,l){l.level=e,l.row=t,l.col=i;const r=this.layer.tileInfo;for(r.updateTileInfo(l);;){const e=this.getAvailability(l.level,l.row,l.col);if(\"unavailable\"!==e)return e;if(!r.upsampleTile(l))return\"unavailable\"}}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof g){const s=r.getAvailability(t,i);return\"unavailable\"===s?Promise.reject(new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,l,r){l.level=e,l.row=t,l.col=i;const s=this.layer.tileInfo;s.updateTileInfo(l);const a=this.fetchAvailability(e,t,i,r).catch((e=>{if(h(e))throw e;if(s.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l);throw e}));return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,l,r,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this._handles.has(a))return;const o=p();s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this._handles.add(c,a),await u(10,o.signal).catch((()=>{})),n||(n=!0,this._handles.remove(a)),m(o))return;const h={id:e,level:t,row:i,col:l},f={...r,signal:o.signal},v=this.layer.tileInfo;for(let p=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?f(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,l){l.level=e,l.row=t-t%this.size,l.col=i-i%this.size;const r=b(l);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,l)=>!!e._tilemapFromCache(t,i,l,e._tmpTilemapDefinition)}}};j._maxPrefetch=4,j._prefetches=new o({initialSize:w._maxPrefetch}),e([y({constructOnly:!0,type:Number})],j.prototype,\"levels\",void 0),e([_(\"levels\")],j.prototype,\"castLevels\",null),e([y({readOnly:!0,type:Number})],j.prototype,\"size\",null),e([y({constructOnly:!0,type:Number})],j.prototype,\"cacheByteSize\",void 0),e([y({constructOnly:!0})],j.prototype,\"layer\",void 0),e([y({constructOnly:!0})],j.prototype,\"request\",void 0),j=w=e([d(\"esri.layers.support.TilemapCache\")],j);export{j as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as t}from\"../../../core/unitUtils.js\";import{isLoaded as o,isSupported as r,load as i,getTransformation as a,project as s}from\"../../../geometry/projection.js\";import{project as l}from\"../../../geometry/support/webMercatorUtils.js\";import c from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const m=5e-4,u=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},f=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},p={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54099:13524439.768288724,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},h=32;async function y(){if(o()||!r())return null;await i()}function M(n,t,r){if(!u(n.spatialReference,t))return null;if(!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return r?a(t,n.spatialReference,n):a(n.spatialReference,t,n)}function g(n,t,r,i=null){if(n.spatialReference.equals(t))return n;const a=u(n.spatialReference,t);if(a&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=r.center,m=new c({xmin:x.x-n.x/2,xmax:x.x+n.x/2,ymin:x.y-n.y/2,ymax:x.y+n.y/2,spatialReference:n.spatialReference}),f=a?s(m,t,i):l(m,t);if(null==f)return null;return{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function d(e,n=.01){return t(e)?n/t(e):0}function w(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=c?s(n,t,r):l(n,t);if(x&&i&&t.isGeographic){const[e,t]=v(a,!0),o=d(a);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<m?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<m&&(x.x+=360))}return x}function R(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new c({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function j(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=W(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return b(e,t,o,r);return R(e.clone().normalize().map((e=>b(e,t,o,r))))}function b(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const f=c?s(n,t,r):l(n,t);let[p,h]=v(a,!0);if(f&&i&&a.isWebMercator&&t.isGeographic&&null!=p&&null!=h){const e=.001,o=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>o&&Math.abs(180-f.xmax)<m){f.xmin=-180;const e=[];e.push(new x(n.xmax,n.ymin,a)),e.push(new x(n.xmax,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmax,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmax=Math.max.apply(null,o)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>o&&Math.abs(180+f.xmin)<m){f.xmax=180;const e=[];e.push(new x(n.xmin,n.ymin,a)),e.push(new x(n.xmin,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmin,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmin=Math.min.apply(null,o)}}[p,h]=v(t,!0);const y=d(t);return y&&null!=p&&null!=h&&(Math.abs(f.xmin-p)<y&&(f.xmin=p),Math.abs(f.xmax-h)<y&&(f.xmax=h)),f}function S(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*p[e.wkid]||null}function v(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function N(e,n,t,o){let r=(e-n)/t;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function W(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return N(e.xmax,r,o,!0)-N(e.xmin,r,o,!1)}function z(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const u=[],f=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=f?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,f=(c-Math.round(h/m)%c)%c;u.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:f,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:u,hasGCSSShiftTransform:f}}function G(t,r,i,a=null,s=null,l=!1,c=[h,h]){if(u(t.spatialReference,r.spatialReference)&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&r&&i))return null;const{xmin:m,ymin:p,xmax:y,ymax:M}=t,g=t.spatialReference,d=r.spatialReference,R=S(d);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((y-m)/j.x-.1)+1,rows:Math.ceil((M-p)/j.y-.1)+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let o=0;o<b.rows;o++){let i=w(new x({x:m+v*e,y:M-N*o,spatialReference:g}),d,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[o]&&n(R)&&i.x<z[o].x&&(i.x+=R),i?(W.push((i.x-r.xmin)/(r.xmax-r.xmin)),W.push((r.ymax-i.y)/(r.ymax-r.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=f(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let n=0;n<b.rows-1;n++){let t=e*b.rows*2+2*n;const o=W[t],r=W[t+1],i=W[t+2],a=W[t+3];t+=2*b.rows;const s=W[t],l=W[t+1],c=W[t+2],x=W[t+3];let m=0,u=12*(n*(b.cols-1)+e);for(let e=0;e<3;e++)C[u++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function P(e){const n=e.clone().normalize();return 1===n.length?n[0]:R(n)}function C(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,m=(i.x+i.y)/2;if(n<=m)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=m;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const u=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new x({x:u.x,y:u.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,m=Math.log(e.y/i.y)/Math.LN2,u=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,m)):\"up\"===o?Math.ceil(Math.max(c,m)):Math.round((c+m)/2),a<0?a=0:a>u&&(s=a>u+3,a=u);const f=2**a;return{pyramidLevel:a,pyramidResolution:new x({x:f*t.nativePixelSize.x,y:f*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function L(e,n,o=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new x({x:s.x,y:s.y,spatialReference:a}),n,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,m=t(n),u=c*m*96*39.37,f=n.isGeographic?256/o*295828763.7958547:256/o*591657527.591555;let p=!1;const h=j(i,n);r&&(n.isGeographic||n.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=u;const d=1.001;if(p){M=f;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*m*39.37),o=n.isGeographic?4326:3857;y=g(new x({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/t,y.y*=M/t}else{y={x:s.x,y:s.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;M<f*(d/2)&&t<n;)t++,M*=2,y.x*=2,y.y*=2;Math.max(M,f)/Math.min(M,f)<=d&&(M=f)}const w=[M],R=[{x:y.x,y:y.y}],b=70.5310735,S=Math.min(b,u)/d;for(;M>=S;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{L as computeProjectedScales,h as defaultGridSpacing,M as getDefaultDatumTransformationForDataset,G as getProjectionOffsetGrid,z as getRasterDatasetAlignmentInfo,W as getWorldWrapCount,y as load,j as projectExtent,w as projectPoint,g as projectResolution,P as snapExtent,C as snapPyramid};\n"],"sourceRoot":""}