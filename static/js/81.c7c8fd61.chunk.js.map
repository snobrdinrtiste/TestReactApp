{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","../node_modules/@arcgis/core/layers/graphics/objectIdUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/support/MemorySourceWorker.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js"],"names":["o","this","code","description","l","t","error","globalId","objectId","success","uniqueId","u","a","c","p","f","Set","d","e","r","s","clear","get","m","push","name","message","details","field","originalValue","sanitizedValue","add","editable","n","i","has","parseFloat","String","h","TypeError","simplify","g","y","attributes","isFinite","Math","max","x","T","xmin","ymin","xmax","ymax","spatialReference","q","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","R","z","hasZ","D","hasM","O","_queryEngine","_nextObjectId","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","features","_inferLayerProperties","fields","I","b","geometryType","F","objectIdField","timeInfo","some","type","nullable","unshift","alias","j","jsonValues","indexOf","E","_","startTimeField","endTimeField","trackIdField","w","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","assignedObjectIds","featureStore","cacheSpatialQueries","length","S","_loadInitialFeatures","Promise","all","adds","updates","_applyEdits","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","geometry","toLowerCase","uid","_assignObjectId","addMany","fullExtent","timeExtent","start","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","getFeature","renderer","symbol","JSON","stringify","Function","prototype","attachment","data","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","queryRelated","supportsCount","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","compareMinX","compareMinY","toBBox","_maxEntries","_minEntries","ceil","_initFormat","M","prune","X","Y","B","_all","children","leaf","pop","insert","_build","slice","height","_splitRoot","_insert","indexHint","splice","_condense","pushArray","log","sqrt","min","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","_allDistMargin","sort","join","minX","minY","maxX","maxY","deallocator","arguments","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","load","filter","delete","remove","search","set","getObjectId","getAttributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","centroid","geometryInfo","_boundsStore","_featuresById","_markedIds","events","featureAdapter","numFeatures","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","forEachInBounds","emit","displayId","onFeatureAdd","getLogger","feature","onFeatureRemove"],"mappings":"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","file":"static/js/81.c7c8fd61.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in r){const s=t.get(a);if(!s)continue;const c=r[a],d=m(s,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:s,originalValue:c,sanitizedValue:d}}),f.add(s.name),s&&(o||s.editable)){const t=n(s,d);if(t)return u(i(t,s,d));e[s.name]=d}}if(s)for(const n of s)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=1;function n(t,n){let o=0;for(const r of n){var e;const n=null==(e=r.attributes)?void 0:e[t];\"number\"==typeof n&&isFinite(n)&&(o=Math.max(o,n))}return o}export{n as findLastObjectIdFromFeatures,t as initialObjectId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{getJsonType as t,isPoint as i}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromFeatures as r,convertToFeature as n,convertFromFeature as a}from\"../../featureConversionUtils.js\";import{initialObjectId as l,findLastObjectIdFromFeatures as o}from\"../../objectIdUtils.js\";import d from\"../../data/FeatureStore.js\";import{checkProjectionSupport as u,project as p}from\"../../data/projectionSupport.js\";import f from\"../../data/QueryEngine.js\";import{createDefaultAttributesFunction as y,createDrawingInfo as c,createDefaultTemplate as m}from\"./clientSideDefaults.js\";import{loadGeometryEngineForSimplify as h,createFeatureEditErrorResult as g,mixAttributes as I,createFeatureEditSuccessResult as b,simplify as F}from\"./sourceUtils.js\";import _ from\"../../../support/FieldsIndex.js\";import{kebabDict as j}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as E}from\"../../../support/fieldUtils.js\";const x=s,T={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:s},q={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};function R(e){return i(e)?null!=e.z:!!e.hasZ}function D(e){return i(e)?null!=e.m:!!e.hasM}class O{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const i=[],{features:s}=t,r=this._inferLayerProperties(s,t.fields),n=t.fields||[],a=null!=t.hasM?t.hasM:r.hasM,p=null!=t.hasZ?t.hasZ:r.hasZ,h=!t.spatialReference&&!r.spatialReference,g=h?x:t.spatialReference||r.spatialReference,I=h?T:null,b=t.geometryType||r.geometryType,F=!b;let R=t.objectIdField||r.objectIdField,D=t.timeInfo;if(!F&&(h&&i.push({name:\"feature-layer:spatial-reference-not-found\",message:\"Spatial reference not provided or found in features. Defaults to WGS84\"}),!b))throw new e(\"feature-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(!R)throw new e(\"feature-layer:missing-property\",\"objectIdField not set and couldn't be found in the provided fields\");if(r.objectIdField&&R!==r.objectIdField&&(i.push({name:\"feature-layer:duplicated-oid-field\",message:`Provided objectIdField \"${R}\" doesn't match the field name \"${r.objectIdField}\", found in the provided fields`}),R=r.objectIdField),R&&!r.objectIdField){let e=null;n.some((t=>t.name===R&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):n.unshift({alias:R,name:R,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const l of n){if(null==l.name&&(l.name=l.alias),null==l.alias&&(l.alias=l.name),!l.name)throw new e(\"feature-layer:invalid-field-name\",\"field name is missing\",{field:l});if(l.name===R&&(l.type=\"esriFieldTypeOID\"),-1===j.jsonValues.indexOf(l.type))throw new e(\"feature-layer:invalid-field-type\",`invalid type for field \"${l.name}\"`,{field:l})}const O={};this._requiredFields=[];for(const e of n)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=E(e);e.nullable||void 0!==t?O[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new _(n),this._createDefaultAttributes=y(O,R),D){if(D.startTimeField){const e=this._fieldsIndex.get(D.startTimeField);e?(D.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):D.startTimeField=null}if(D.endTimeField){const e=this._fieldsIndex.get(D.endTimeField);e?(D.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):D.endTimeField=null}if(D.trackIdField){const e=this._fieldsIndex.get(D.trackIdField);e?D.trackIdField=e.name:(D.trackIdField=null,i.push({name:\"feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:D}}))}D.startTimeField||D.endTimeField||(i.push({name:\"feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing or invalid\",details:{timeInfo:D}}),D=null)}const w={warnings:i,featureErrors:[],layerDefinition:{...q,drawingInfo:c(b),templates:m(O),extent:I,geometryType:b,objectIdField:R,fields:n,hasZ:!!p,hasM:!!a,timeInfo:D},assignedObjectIds:{}};if(this._queryEngine=new f({fields:n,geometryType:b,hasM:a,hasZ:p,objectIdField:R,spatialReference:g,featureStore:new d({geometryType:b,hasM:a,hasZ:p}),timeInfo:D,cacheSpatialQueries:!0}),!s||!s.length)return this._nextObjectId=l,w;const S=o(R,s);return this._nextObjectId=S+1,await u(s,g),this._loadInitialFeatures(w,s)}async applyEdits(e){const{spatialReference:t,geometryType:i}=this._queryEngine;return await Promise.all([h(t,i),u(e.adds,t),u(e.updates,t)]),this._applyEdits(e)}queryFeatures(e,t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e,t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e,t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e,t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_inferLayerProperties(e,i){let s,r,n=null,a=null,l=null;for(const o of e){const e=o.geometry;if(e&&(n||(n=t(e)),a||(a=e.spatialReference),null==s&&(s=R(e)),null==r&&(r=D(e)),n&&a&&null!=s&&null!=r))break}if(i&&i.length){let e=null;i.some((t=>{const i=\"esriFieldTypeOID\"===t.type,s=!t.type&&t.name&&\"objectid\"===t.name.toLowerCase();return e=t,i||s}))&&(l=e.name)}return{geometryType:n,spatialReference:a,objectIdField:l,hasM:r,hasZ:s}}_loadInitialFeatures(e,i){const{geometryType:s,hasM:n,hasZ:a,objectIdField:l,spatialReference:o,featureStore:d}=this._queryEngine,u=[];for(const r of i){if(null!=r.uid&&(e.assignedObjectIds[r.uid]=-1),r.geometry&&s!==t(r.geometry)){e.featureErrors.push(g(\"Incorrect geometry type.\"));continue}const i=this._createDefaultAttributes(),n=I(this._fieldsIndex,i,r.attributes,this._requiredFields,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(i,r.attributes,!0),r.attributes=i,null!=r.uid&&(e.assignedObjectIds[r.uid]=r.attributes[l]),r.geometry&&(r.geometry=p(r.geometry,r.geometry.spatialReference,o)),u.push(r))}if(d.addMany(r([],u,s,a,n,l)),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),s&&s.length){for(const e of s)r.deleteResults.push(b(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,featureEditResults:r}}_applyAddEdits(e,i){const{addResults:s}=e,{geometryType:n,hasM:a,hasZ:l,objectIdField:o,spatialReference:d,featureStore:u}=this._queryEngine,f=[];for(const r of i){if(r.geometry&&n!==t(r.geometry)){s.push(g(\"Incorrect geometry type.\"));continue}const i=this._createDefaultAttributes(),a=I(this._fieldsIndex,i,r.attributes,this._requiredFields);if(a)s.push(a);else{if(this._assignObjectId(i,r.attributes),r.attributes=i,null!=r.uid){const t=r.attributes[o];e.uidToObjectId[r.uid]=t}r.geometry&&(r.geometry=p(F(r.geometry,d),r.geometry.spatialReference,d)),f.push(r),s.push(b(r.attributes[o]))}}u.addMany(r([],f,n,l,a,o))}_applyUpdateEdits({updateResults:e},i){const{geometryType:s,hasM:r,hasZ:l,objectIdField:o,spatialReference:d,featureStore:u}=this._queryEngine;for(const f of i){const{attributes:i,geometry:y}=f,c=i&&i[o];if(null==c){e.push(g(`Identifier field ${o} missing`));continue}if(!u.has(c)){e.push(g(`Feature with object id ${c} missing`));continue}const m=n(u.getFeature(c),s,l,r);if(y){if(s!==t(y)){e.push(g(\"Incorrect geometry type.\"));continue}m.geometry=p(F(y,d),y.spatialReference,d)}if(i){const t=I(this._fieldsIndex,m.attributes,i,this._requiredFields);if(t){e.push(t);continue}}u.add(a(m,s,l,r,o)),e.push(b(c))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&t&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}}export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h))}n=M.pop()}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return!1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;M.push(s)}}i=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(i);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=n(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this.toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const M=new e,X=new e,Y=new e,B=new e({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export default h;export{_ as BBox,h as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getCentroidOptimizedGeometry as t}from\"../centroid.js\";import e from\"../OptimizedFeature.js\";import r from\"../OptimizedGeometry.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,r)=>new e(r,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(e,o)=>(e.centroid||(e.centroid=t(new r,e.geometry,o.hasZ,o.hasM)),e.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s}from\"../../../core/maybe.js\";import{fromRect as o}from\"../../../geometry/support/aaBoundingBox.js\";import{create as i,NEGATIVE_INFINITY as a}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as d}from\"../featureConversionUtils.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";class u{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=i(a);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(o(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const o=t.objectId;if(null==o)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const a=this._featuresById.get(o);let n;if(this._markedIds.add(o),a?(t.displayId=a.displayId,n=this._boundsStore.get(o),this._boundsStore.delete(o)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),!t.geometry||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(o,null),void this._featuresById.set(o,t);n=d(n||i(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(o,n),this._featuresById.set(o,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export default u;\n"],"sourceRoot":""}