{"version":3,"sources":["../node_modules/@arcgis/core/symbols/cim/Rasterizer.js","../node_modules/@arcgis/core/symbols/cim/TextRasterizer.js","../node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js","../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js","../node_modules/@arcgis/core/geometry/support/quantizationUtils.js"],"names":["o","this","_rasterizationCanvas","i","s","document","createElement","type","e","rasterizeSimpleFill","style","r","size","image","Uint32Array","buffer","sdf","simplePattern","anchorX","anchorY","rasterizeSimpleLine","cap","m","l","f","fromSimpleMarker","a","fromCIMHatchFill","t","frame","xmin","ymax","xmax","ymin","markerPlacement","fromCIMInsidePolygon","n","rasterize","c","h","p","y","u","width","height","getContext","ImageData","putImageData","setAttribute","drawImage","getImageData","Uint8Array","data","oldColor","length","newColor","Math","round","Uint8ClampedArray","_textRasterizationCanvas","setFontProperties","parameters","textLines","split","lineHeight","computeLineHeight","computeTextWidth","renderedLineHeight","pixelRatio","renderedHaloSize","halo","renderedWidth","renderedHeight","fillStyle","slice","toString","color","haloStyle","d","textAlign","g","renderHalo","globalCompositeOperation","fillText","x","premultiplyColors","_haloRasterizationCanvas","clearRect","strokeStyle","lineJoin","renderHaloEmulated","renderHaloNative","globalAlpha","lineWidth","strokeText","font","weight","family","textBaseline","horizontalAlignment","max","measureText","push","cos","PI","sin","Legend","Preview","targetSize","referenceSize","scaleFactor","M","fill","legend","geometry","rings","canvasPaths","preview","stroke","paths","I","Object","keys","map","name","alias","z","symbol","P","materialHash","cim","materialOverrides","analyzedCIM","hash","_spatialReference","_avoidSDF","_resourceCache","Map","_rasterizer","_textRasterizer","_pictureMarkerCache","centroid","analyzeCIMSymbol","attributes","rasterizeCIMSymbol","geometryType","spatialReference","fields","fetchPictureMarkerResource","text","indexOf","textCase","Promise","all","get","url","responseType","signal","set","_getRasterizedResource","offsetX","offsetY","rotation","rotateClockwise","angle","verticalAlignment","rotateClockWise","rasterizedResource","getSymbolImage","C","min","createImageData","rasterizedImage","_imageDataToCanvas","save","translate","rotate","restore","imageData","anchorPosition","_imageDataCanvas","_getPictureResource","_rasterizePictureResource","_embedCIMLayerInVectorMarker","JSON","stringify","rasterizeJSONResource","_rasterizeTextResource","anchorPoint","preserveOutlineWidth","has","window","devicePixelRatio","fontName","decoration","outlineColor","outlineSize","rasterizeText","abs","createPattern","setTransform","m11","m12","m21","m22","m41","m42","beginPath","moveTo","lineTo","closePath","apply","_imageTo32Array","markerGraphics","symbolLayers","maxSize","node","opacity","cimOptions","feature","fieldMap","clone","rasterizeCIMSymbolAsync","b","w","D","scale","ceil","Image","src","toDataURL","appendChild","originPosition","tolerance","extent","Array","T","G","points","L","O","S","N","zmin","zmax","mmin","mmax","U","E","k","q","v"],"mappings":"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","file":"static/js/109.23e66e42.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{SymbolHelper as e,CIMSymbolHelper as r}from\"./CIMSymbolHelper.js\";import t from\"./Rect.js\";import{getSDFInfo as a,buildSDF as n}from\"./SDFHelper.js\";import{resampleHermite as i}from\"./utils.js\";const s=512;class o{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(i,s,o){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),\"simple-fill\"===i.type||\"esriSFS\"===i.type){const[r,t,a]=e.rasterizeSimpleFill(this._rasterizationCanvas,i.style,s);return{size:[t,a],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if(\"simple-line\"===i.type||\"esriSLS\"===i.type){const[r,t,a]=e.rasterizeSimpleLine(i.style,i.cap);return{size:[t,a],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let m,l,f;if(\"simple-marker\"===i.type||\"esriSMS\"===i.type||\"line-marker\"===i.type?(m=r.fromSimpleMarker(i),f=a(m)):\"CIMHatchFill\"===i.type?(m=r.fromCIMHatchFill(i),l=new t(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):i.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===i.markerPlacement.type?(m=r.fromCIMInsidePolygon(i),l=new t(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):(m=i,f=a(m)),f&&!o){const[e,r,t]=n(f);return e?{size:[r,t],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,h,p,y,u]=r.rasterize(this._rasterizationCanvas,m,l,!o);return c?{size:[h,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:u}:null}rasterizeImageResource(e,r,t,a){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=r;const n=this._rasterizationCanvas.getContext(\"2d\");t instanceof ImageData?n.putImageData(t,0,0):(t.setAttribute(\"width\",`${e}px`),t.setAttribute(\"height\",`${r}px`),n.drawImage(t,0,0,e,r));const o=n.getImageData(0,0,e,r),m=new Uint8Array(o.data);if(a)for(const i of a)if(i&&i.oldColor&&4===i.oldColor.length&&i.newColor&&4===i.newColor.length){const[e,r,t,a]=i.oldColor,[n,s,o,l]=i.newColor;if(e===n&&r===s&&t===o&&a===l)continue;for(let i=0;i<m.length;i+=4)e===m[i]&&r===m[i+1]&&t===m[i+2]&&a===m[i+3]&&(m[i]=n,m[i+1]=s,m[i+2]=o,m[i+3]=l)}let l;for(let i=0;i<m.length;i+=4)l=m[i+3]/255,m[i]=m[i]*l,m[i+1]=m[i+1]*l,m[i+2]=m[i+2]*l;let f=m,c=e,h=r;const p=s;if(c>=p||h>=p){const t=c/h;t>1?(c=p,h=Math.round(p/t)):(h=p,c=Math.round(p*t)),f=new Uint8Array(4*c*h);const a=new Uint8ClampedArray(f.buffer);i(m,e,r,a,c,h,!1)}return{size:[c,h],image:new Uint32Array(f.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../core/screenUtils.js\";function e(t){return`rgb(${t.slice(0,3).toString()})`}function i(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}class r{constructor(){}rasterizeText(t,r){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement(\"canvas\"));const o=this._textRasterizationCanvas,n=o.getContext(\"2d\");this.setFontProperties(n,r),this.parameters=r,this.textLines=t.split(/\\r?\\n/),this.lineHeight=this.computeLineHeight();const a=this.computeTextWidth(n,r),h=this.lineHeight*this.textLines.length;o.width=a,o.height=h,this.renderedLineHeight=Math.round(this.lineHeight*r.pixelRatio),this.renderedHaloSize=r.halo.size*r.pixelRatio,this.renderedWidth=a*r.pixelRatio,this.renderedHeight=h*r.pixelRatio,this.fillStyle=i(r.color),this.haloStyle=e(r.halo.color);const l=this.renderedLineHeight,d=this.renderedHaloSize;this.setFontProperties(n,r);const c=s(n.textAlign,this.renderedWidth)+d,g=d;let f=0,p=0;d>0&&this.renderHalo(n,c,g,f,p,r),p+=g,f+=c;for(const e of this.textLines)n.globalCompositeOperation=\"destination-out\",n.fillStyle=\"rgb(0, 0, 0)\",n.fillText(e,f,p),n.globalCompositeOperation=\"source-over\",n.fillStyle=this.fillStyle,n.fillText(e,f,p),p+=l;const u=n.getImageData(0,0,this.renderedWidth,this.renderedHeight),x=new Uint8Array(u.data);if(r.premultiplyColors){let t;for(let e=0;e<x.length;e+=4)t=x[e+3]/255,x[e]=x[e]*t,x[e+1]=x[e+1]*t,x[e+2]=x[e+2]*t}return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(x.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(t,e,i,r,s,o){const n=this.renderedWidth,a=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement(\"canvas\")),this._haloRasterizationCanvas.width=n,this._haloRasterizationCanvas.height=a;const h=this._haloRasterizationCanvas,l=h.getContext(\"2d\");l.clearRect(0,0,n,a),this.setFontProperties(l,o),l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;const d=this.renderedHaloSize<3;l.lineJoin=d?\"miter\":\"round\",d?this.renderHaloEmulated(l,e,i):this.renderHaloNative(l,e,i),t.globalAlpha=this.parameters.halo.color[3],t.drawImage(h,0,0,n,a,r,s,n,a),t.globalAlpha=1}renderHaloEmulated(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const n of this.textLines){for(const[r,a]of o)t.fillText(n,e+s*r,i+s*a);i+=r}}renderHaloNative(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const o of this.textLines){const n=2*s,a=5,h=.1;for(let r=0;r<a;r++){const s=1-(a-1)*h+r*h;t.lineWidth=s*n,t.strokeText(o,e,i)}i+=r}}setFontProperties(e,i){const r=i.font,s=`${r.style} ${r.weight} ${t(i.size*i.pixelRatio)}px ${r.family}, sans-serif`;let o;switch(e.font=s,e.textBaseline=\"top\",i.horizontalAlignment){case\"left\":o=\"left\";break;case\"right\":o=\"right\";break;case\"center\":o=\"center\";break;default:o=\"left\"}e.textAlign=o}computeTextWidth(t,e){let i=0;for(const s of this.textLines)i=Math.max(i,t.measureText(s).width);const r=e.font;return(\"italic\"===r.style||\"oblique\"===r.style||\"string\"==typeof r.weight&&(\"bold\"===r.weight||\"bolder\"===r.weight)||\"number\"==typeof r.weight&&r.weight>600)&&(i+=.3*t.measureText(\"A\").width),i+=2*this.parameters.halo.size,Math.round(i)}computeLineHeight(){const t=1.275*this.parameters.size;return Math.round(t+2*this.parameters.halo.size)}}function s(t,e){return\"center\"===t?.5*e:\"right\"===t?e:0}const o=[];{const t=16;for(let e=0;e<360;e+=360/t)o.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}export default r;export{r as TextRasterizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{throwIfAborted as t}from\"../../core/promiseUtils.js\";import{pt2px as r}from\"../../core/screenUtils.js\";import{numericHash as a}from\"../../core/string.js\";import{getJsonType as i,isPolygon as s,isPolyline as o}from\"../../geometry/support/jsonUtils.js\";import{analyzeCIMSymbol as n,analyzeCIMResource as c}from\"./cimAnalyzer.js\";import l from\"./Rasterizer.js\";import{TextRasterizer as m}from\"./TextRasterizer.js\";import{createLabelOverrideFunction as h,evaluateValueOrFunction as f,colorToArray as g}from\"./utils.js\";import{scaleCIMMarker as y}from\"../support/cimSymbolUtils.js\";import u from\"../support/Symbol3DAnchorPosition2D.js\";var p;!function(e){e.Legend=\"legend\",e.Preview=\"preview\"}(p||(p={}));const d=(e,t,a)=>{if(e&&e.targetSize){let i;if(a){const t=Math.max(a.frame.xmax-a.frame.xmin,a.frame.ymax-a.frame.ymin);i=e.targetSize/r(t)}else i=e.targetSize/t.referenceSize;return i}return e&&e.scaleFactor?e.scaleFactor:1},M={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class C{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._rasterizer=new l,this._textRasterizer=new m,this._pictureMarkerCache=new Map}async rasterizeCIMSymbolAsync(e,t,r,a,s,o,n,c){a=a||(t?null!=t.centroid?\"esriGeometryPolygon\":i(t.geometry):null)||z(e);const l=await this.analyzeCIMSymbol(e,t?I(t.attributes):null,r,a,c);return this.rasterizeCIMSymbol(l,t,a,s,o,n)}async analyzeCIMSymbol(e,r,a,i,s){const o=[],c=r?{geometryType:i,spatialReference:this._spatialReference,fields:r}:null;let l;await n(e.data,c,o,this._avoidSDF),t(s);for(const t of o)\"CIMPictureMarker\"!==t.cim.type&&\"CIMPictureFill\"!==t.cim.type&&\"CIMPictureStroke\"!==t.cim.type||(l||(l=[]),l.push(this.fetchPictureMarkerResource(t,s))),a&&\"text\"===t.type&&\"string\"==typeof t.text&&t.text.indexOf(\"[\")>-1&&(t.text=h(a,t.text,t.cim.textCase));return l&&await Promise.all(l),o}async fetchPictureMarkerResource(t,r){const a=t.materialHash;if(!this._pictureMarkerCache.get(a)){const i=(await e(t.cim.url,{responseType:\"image\",signal:r&&r.signal})).data;this._pictureMarkerCache.set(a,i)}}rasterizeCIMSymbol(e,t,r,a,i,s){const o=[];for(const n of e){a&&\"function\"==typeof a.scaleFactor&&(a.scaleFactor=a.scaleFactor(t,i,s));const e=this._getRasterizedResource(n,t,r,a,i,s);if(!e)continue;let c=0,l=e.anchorX||0,m=e.anchorY||0,h=!1,g=0,y=0;if(\"esriGeometryPoint\"===r){const e=d(a,n,null);if(g=f(n.offsetX,t,i,s)*e||0,y=f(n.offsetY,t,i,s)*e||0,\"marker\"===n.type)c=f(n.rotation,t,i,s)||0,h=!!n.rotateClockwise&&n.rotateClockwise;else if(\"text\"===n.type){if(c=f(n.angle,t,i,s)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case\"left\":l=-.5;break;case\"right\":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case\"top\":m=.5;break;case\"bottom\":m=-.5;break;case\"baseline\":m=-.25;break;default:m=0}}}null!=e&&o.push({angle:c,rotateClockWise:h,anchorX:l,anchorY:m,offsetX:g,offsetY:y,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement(\"canvas\"),a=t.getContext(\"2d\");let i=0,s=0,o=0,n=0;const c=[];for(let f=0;f<e.length;f++){const t=e[f],l=t.rasterizedResource;if(!l)continue;const m=l.size,h=t.offsetX,g=t.offsetY,y=t.anchorX,u=t.anchorY,p=t.rotateClockWise||!1;let d=t.angle,M=r(h)-m[0]*(.5+y),C=r(g)-m[1]*(.5+u),I=M+m[0],z=C+m[1];if(d){p&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=M*t-C*e,a=M*e+C*t,i=M*t-z*e,s=M*e+z*t,o=I*t-z*e,n=I*e+z*t,c=I*t-C*e,l=I*e+C*t;M=Math.min(r,i,o,c),C=Math.min(a,s,n,l),I=Math.max(r,i,o,c),z=Math.max(a,s,n,l)}i=M<i?M:i,s=C<s?C:s,o=I>o?I:o,n=z>n?z:n;const P=a.createImageData(l.size[0],l.size[1]);P.data.set(new Uint8ClampedArray(l.image.buffer));const x={offsetX:h,offsetY:g,rotateClockwise:p,angle:d,rasterizedImage:P,anchorX:y,anchorY:u};c.push(x)}t.width=o-i,t.height=n-s;const l=-i,m=n;for(let f=0;f<c.length;f++){const e=c[f],t=this._imageDataToCanvas(e.rasterizedImage),i=e.rasterizedImage.width,s=e.rasterizedImage.height,o=l-i*(.5+e.anchorX),n=m-s*(.5-e.anchorY);if(e.angle){const i=(360-e.angle)*Math.PI/180;a.save(),a.translate(r(e.offsetX),-r(e.offsetY)),a.translate(l,m),a.rotate(i),a.translate(-l,-m),a.drawImage(t,o,n),a.restore()}else a.drawImage(t,o+r(e.offsetX),n-r(e.offsetY))}const h=new u({x:l/t.width-.5,y:m/t.height-.5});return{imageData:0!==t.width&&0!==t.height?a.getImageData(0,0,t.width,t.height):a.createImageData(1,1),anchorPosition:h}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const t=this._imageDataCanvas,r=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(e,t,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const a=this._imageDataCanvas,i=a.getContext(\"2d\");return a.width=t,a.height=r,i.drawImage(e,0,0,t,r),new Uint32Array(i.getImageData(0,0,t,r).data.buffer)}_getRasterizedResource(e,t,r,i,s,o){let n,c,l,m;if(\"esriGeometryPolyline\"===r||\"esriGeometryPolygon\"===r){const m=i&&i.style?i.style:p.Legend,h=\"esriGeometryPolyline\"===r?M.stroke[m]:M.fill[m];if(\"line\"===e.type){if(\"CIMSolidStroke\"!==e.cim.type){if(\"CIMPictureStroke\"===e.cim.type){const r=f(e.width,t,s,o),{image:a,width:i,height:n}=this._getPictureResource(e,r);return this._rasterizePictureResource(e,a,i,n,h,r)}return null}({analyzedCIM:n,hash:l}=P(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,h)}else if(\"marker\"===e.type){if(\"CIMPictureMarker\"===e.cim.type)return null;if(\"CIMVectorMarker\"!==e.cim.type)return null;e.cim.offsetX=f(e.offsetX,t,s,o),e.cim.offsetY=f(e.offsetY,t,s,o),e.cim.rotation=f(e.rotation,t,s,o),e.cim.markerPlacement=e.markerPlacement,({analyzedCIM:n}=P(e,t,s,o)),l=a(JSON.stringify(n)).toString(),c=this._embedCIMLayerInVectorMarker(n,h)}else{if(\"text\"===e.type)return null;if(\"fill\"===e.type){if(\"CIMHatchFill\"===e.cim.type||\"CIMVectorMarker\"===e.cim.type||\"CIMPictureMarker\"===e.cim.type||\"CIMPictureFill\"===e.cim.type){const r=e.cim.size||e.cim.height;let a,i,c;if(\"CIMPictureMarker\"===e.cim.type||\"CIMPictureFill\"===e.cim.type)({image:a,width:i,height:c}=this._getPictureResource(e,r));else{({analyzedCIM:n,hash:l}=P(e,t,s,o));const r=this._rasterizer.rasterizeJSONResource(n,1,this._avoidSDF);a=r.image,i=r.size[0],c=r.size[1]}return this._rasterizePictureResource(e,a,i,c,h,null)}if(\"CIMSolidFill\"!==e.cim.type)return null;({analyzedCIM:n,hash:l}=P(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,h)}}}else{if(\"text\"===e.type)return m=this._rasterizeTextResource(e,t,i,s,o),m;({analyzedCIM:n,hash:l}=P(e,t,s,o));const r=d(i,e,null);if(\"CIMPictureMarker\"===e.cim.type){const a=f(e.size,t,s,o)*r,{image:i,width:n,height:c}=this._getPictureResource(e,a);return m={image:i,size:[n,c],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},m}y(n,r,{preserveOutlineWidth:!1}),c=n}l+=r,i&&(l+=JSON.stringify(i));const h=this._resourceCache;return h.has(l)?h.get(l):(m=this._rasterizer.rasterizeJSONResource(c,window.devicePixelRatio||1,this._avoidSDF),h.set(l,m),m)}_rasterizeTextResource(e,t,r,a,i){const s=d(r,e,null),o=f(e.text,t,a,i);if(!o||0===o.length)return null;const n=f(e.fontName,t,a,i),c=f(e.style,t,a,i),l=f(e.weight,t,a,i),m=f(e.decoration,t,a,i),h=f(e.size,t,a,i)*s,y=f(e.horizontalAlignment,t,a,i),u=f(e.verticalAlignment,t,a,i),p=g(f(e.color,t,a,i)),M=g(f(e.outlineColor,t,a,i)),C={color:p,size:h,horizontalAlignment:y,verticalAlignment:u,font:{family:n,style:c,weight:l,decoration:m},halo:{size:f(e.outlineSize,t,a,i)||0,color:M,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,C)}_rasterizePictureResource(e,t,a,i,n,c){const l=document.createElement(\"canvas\"),m=l.getContext(\"2d\");l.height=r(Math.max(Math.abs(n.frame.ymax-n.frame.ymin),c)),l.width=r(Math.abs(n.frame.xmax-n.frame.xmin));const h=m.createImageData(a,i);h.data.set(new Uint8ClampedArray(t.buffer));const f=this._imageDataToCanvas(h),g=m.createPattern(f,\"repeat\"),y=Math.cos((-e.cim.rotation||0)*Math.PI/180),u=Math.sin((-e.cim.rotation||0)*Math.PI/180);g.setTransform({m11:y,m12:u,m21:-u,m22:y,m41:r(e.cim.offsetX)||0,m42:r(e.cim.offsetY)||0});const p=n.canvasPaths;let d,M,C;s(p)?(d=p.rings,m.fillStyle=g,M=m.fill,C=[\"evenodd\"]):o(p)&&(d=p.paths,m.strokeStyle=g,m.lineWidth=c,M=m.stroke,d[0][0][1]=l.height/2,d[0][1][1]=l.height/2),m.beginPath();for(const s of d){const e=s?s.length:0;if(e>1){let t=s[0];m.moveTo(r(t[0]),r(t[1]));for(let a=1;a<e;++a)t=s[a],m.lineTo(r(t[0]),r(t[1]));m.closePath()}}M.apply(m,C);const I=m.getImageData(0,0,l.width,l.height),z=new Uint8Array(I.data);return{size:[l.width,l.height],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t){const a=this._pictureMarkerCache.get(e.materialHash);if(!a)return null;const i=a.height/a.width,s=t?i>1?r(t):r(t)/i:a.width,o=t?i>1?r(t)*i:r(t):a.height;return{image:this._imageTo32Array(a,s,o),width:s,height:o}}_embedCIMLayerInVectorMarker(e,t){const r=s(t.geometry)?\"CIMPolygonSymbol\":\"CIMLineSymbol\";return{type:\"CIMVectorMarker\",frame:t.frame,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}}function I(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}function z(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}function P(e,t,r,a){let i,s;if(\"function\"==typeof e.materialHash){i=(0,e.materialHash)(t,r,a),s=c(e.cim,e.materialOverrides)}else i=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:i}}export{C as CIMSymbolRasterizer,p as GeometryStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{px2pt as t}from\"../../core/screenUtils.js\";import{CIMSymbolRasterizer as e}from\"../cim/CIMSymbolRasterizer.js\";import{getCIMSymbolSize as a,scaleCIMSymbolTo as l}from\"./cimSymbolUtils.js\";const i=new e(null,!0),o=120;async function n(e,n={}){const{size:s,maxSize:c,node:m,opacity:r}=n,y=n.cimOptions||n,{feature:d,fieldMap:h,geometryType:p,style:u}=y,g=a(e),f=Math.min(null!=s?s:g,null!=c?c:t(o));f!==g&&(e=e.clone(),l(e,f,{preserveOutlineWidth:!0}));let M=3;e&&e.data&&e.data.symbol&&\"CIMPointSymbol\"!==e.data.symbol.type&&(M=1);const b=await i.rasterizeCIMSymbolAsync(e,d,h,p,{scaleFactor:M,style:u}),w=document.createElement(\"canvas\");w.width=b.imageData.width,w.height=b.imageData.height;w.getContext(\"2d\").putImageData(b.imageData,0,0);let C=w.width/M,D=w.height/M;if(null!=s&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale))){const t=C/D;C=t<=1?Math.ceil(f*t):f,D=t<=1?f:Math.ceil(f/t)}const I=new Image(C,D);return I.src=w.toDataURL(),null!=r&&(I.style.opacity=`${r}`),m&&m.appendChild(I),I}export{n as previewCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isPoint as n,isPolyline as t,isPolygon as r,isMultipoint as e,isExtent as u}from\"./jsonUtils.js\";function i(n){return n&&\"upperLeft\"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?n(o)?L(i,{},o,!1,!1):t(o)?S(i,{},o,!1,!1):r(o)?O(i,{},o,!1,!1):e(o)?G(i,{},o,!1,!1):u(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}export{c as equals,F as getQuantizedBoundsCoordsArray,V as getQuantizedBoundsCoordsArrayArray,_ as getQuantizedBoundsPaths,Y as getQuantizedBoundsPoints,A as getQuantizedBoundsRings,h as quantizeBounds,w as quantizeExtent,d as quantizeGeometry,G as quantizeMultipoint,N as quantizePaths,L as quantizePoint,I as quantizePoints,O as quantizePolygon,S as quantizePolyline,g as quantizeRings,s as quantizeX,f as quantizeY,m as toQuantizationTransform,M as unquantizeBounds,z as unquantizeCoordsArray,T as unquantizeCoordsArrayArray,j as unquantizeExtent,U as unquantizeMultipoint,P as unquantizePaths,k as unquantizePoint,E as unquantizePoints,q as unquantizePolygon,v as unquantizePolyline,b as unquantizeRings,p as unquantizeX,y as unquantizeY};\n"],"sourceRoot":""}