{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/views/2d/engine/RasterBitmap.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"names":["t","e","this","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","s","r","has","get","refCount","delete","controller","abort","ts","Date","now","set","block","i","c","trim","updateTimer","clear","clearTimer","size","setInterval","Array","from","length","clearInterval","a","n","extent","rasterInfo","cache","push","u","some","h","decreaseRefCount","o","m","getBlock","l","x","isResolved","isRejected","then","catch","putBlock","d","deleteBlock","y","g","f","xmin","xmax","ymin","ymax","clone","normalize","p","spatialReference","k","transform","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","R","storageInfo","C","origin","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","_","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","type","_textureInvalidated","_memoryUsed","_supportsBilinear","stencilRef","coordScale","_symbolizerParameters","height","isRendereredSource","pixelRatio","resolution","rotation","_source","rawPixelData","_suspended","_bandIds","_interpolation","_transformGrid","width","transforms","dvs","source","transformGrid","interpolation","getTextures","textures","dispose","_rasterTexture","_transformGridTexture","_colormapTexture","_rasterTextureBandIds","stage","ready","requestRender","invalidateTexture","setSamplingMode","toScreenNoRotation","PI","displayViewMat3","names","map","descriptor","reduce","context","pixels","_createOrDestroyRasterTexture","_updateColormapTexture","setData","suspended","bandIds","join","capabilities","textureFloat","textureFloatLinear","_colormap","symbolizerParameters","bitmap","once","destroy","getMemoryUsage","arguments","isCustomTilingScheme","_getTileBounds","_tileInfoView","tileInfo","registerRenderPass","name","brushes","raster","target","children","drawPhase","MAP","visible","getTileBounds","world","lodAt","level","_rasterFieldPrefix","layer","view","fullExtent","datumTransformation","renderer","dynamicRangeAdjustment","Promise","reject","popupEnabled","popupTemplate","identify","value","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","attributeTable","features","filter","attributes","Value","VALUE","String","hasOwnProperty","sourceLayer","_set","resolve","fieldInfos","_getFieldInfo","format","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","Number","isNaN","prototype","readOnly","V","getLogger","L","q","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_bitmapView","_emptyTilePixelBlock","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","useWebGLForProcessing","_redrawOrRefreshDebounced","doRefresh","_redrawImage","updateFullExtent","addResolvingPromise","_get","useProgressiveUpdate","removeAllChildren","_getCacheSize","S","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","toMap","geometry","pause","state","update","resume","scale","getClosestInfoForScale","toJSON","fromJSON","ioConfig","sampling","_updateSymbolizerParams","updateCacheSize","notifyChange","increaseRasterJobHandlerUsage","z","supportsTextureFloat","allowPartialFill","_initializeTileInfo","_computeFetchConcurrency","concurrency","process","fetchTile","container","addChild","handles","_canUseMajorityInterpolationOnDataSource","error","_updateBlockCacheRegistry","remove","decreaseRasterJobHandlerUsage","hasTilingEffects","signal","updateRenderer","reset","tiles","_enqueueTileFetch","createTile","getTileCoords","key","getTileResolution","id","removeChild","_canUseWebGLForProcessing","registryId","requestRawData","srcResolution","row","col","symbolizer","canRenderInWebGL","scales","srcResolutions","create","blockBoundary","maxCol","minCol","maxRow","minRow","moving","pixelBlock","applyRenderer","_createEmptyTilePixelBlock","_getLayerInterpolation","_updateGlobalSymbolizerParams","Uint8Array","mask","pixelType","fetchPixels","generateWebGLParameters","isGCS","isGeographic","round","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","colorRamp","U","T","D","parent","when","title","declaredClass","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","blendMode","effect","on","whenLayerView","destroyed","attach","detach","minScale","maxScale","isFulfilled","isVisibleAtScale","sortChildren","setStencilReference","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","setTransform","xoffset","abs","yoffset","stops","maxSize","minSize","event","pointerType","visualVariables","symbol","uniqueValueInfos","classBreakInfos","isWGS84","isWebMercator","equals","cols","rows","center","W","apply","wkid","N","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","pyramidScalingFactor","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","G","NaN","Float32Array","offsets","coefficients","spacing","pixelSize","pyramidResolutions","log","LN2","projectedPixelSize","overlayPixelSizeInMapUnits","basemapSpatialReference","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"mappings":"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","file":"static/js/31.592277eb.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{b as e,c as s,r,k as i,m as a}from\"../../../chunks/mat3.js\";import{c as o}from\"../../../chunks/mat3f32.js\";import{f as u}from\"../../../chunks/vec2f32.js\";import{extractBands as n}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import{createTransformTexture as h,createRasterTexture as d,createColormapTexture as m}from\"../../webgl/rasterUtils.js\";const _={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,type:\"stretch\"};class x extends l{constructor(t=null,e=null,s=null){super(),this._textureInvalidated=!0,this._memoryUsed=null,this._supportsBilinear=!0,this.stencilRef=0,this.coordScale=[1,1],this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.transforms={dvs:o()},this.source=t,this.transformGrid=e,this.interpolation=s}destroy(){const t=this.getTextures();null==t||t.textures.forEach((t=>t.dispose())),this._rasterTexture=null,this._transformGridTexture=null,this._colormapTexture=null}get symbolizerParameters(){return this._symbolizerParameters||_}set symbolizerParameters(t){this._symbolizerParameters=t}get source(){return this._source}set source(t){this._source=t,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._memoryUsed=null)}get suspended(){return this._suspended}set suspended(t){this._suspended&&!t&&this.stage&&(this.ready(),this.requestRender()),this._suspended=t}get bandIds(){return this._bandIds}set bandIds(t){this._bandIds=t,this.invalidateTexture()}get interpolation(){return this._interpolation}set interpolation(t){this._interpolation=t,this._rasterTexture&&this._rasterTexture.setSamplingMode(!this._supportsBilinear||\"bilinear\"!==t&&\"cubic\"!==t?9728:9729)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid=t,this._transformGridTexture&&(this._transformGridTexture.dispose(),this._transformGridTexture=null,this._memoryUsed=null)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}setTransform(t){const o=e(this.transforms.dvs),[n,l]=t.toScreenNoRotation([0,0],this.x,this.y),h=this.resolution/this.pixelRatio/t.resolution,d=h*this.width,m=h*this.height,_=Math.PI*this.rotation/180;s(o,o,u(n,l)),s(o,o,u(d/2,m/2)),r(o,o,-_),s(o,o,u(-d/2,-m/2)),i(o,o,u(d,m)),a(this.transforms.dvs,t.displayViewMat3,o)}getTextures(){if(!this._rasterTexture)return null;const t=[],e=[];return this._transformGridTexture&&(e.push(this._transformGridTexture),t.push(\"u_transformGrid\")),this._rasterTexture&&(e.push(this._rasterTexture),t.push(\"u_image\")),this._colormapTexture&&(e.push(this._colormapTexture),t.push(\"u_colormap\")),{names:t,textures:e}}getMemoryUsage(){if(t(this._memoryUsed)){const t=this.getTextures();if(null==t)return 0;this._memoryUsed=t.textures.map((t=>t.descriptor.width*t.descriptor.height*4)).reduce(((t,e)=>t+e))}return this._memoryUsed}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:t}){var e,s,r;if(!this.stage)return null==(e=this._rasterTexture)||e.dispose(),null==(s=this._transformGridTexture)||s.dispose(),null==(r=this._colormapTexture)||r.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,void(this._colormapTexture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1;const i=this.source,a=i&&i.pixels&&i.pixels.length>0;this._createOrDestroyRasterTexture(t),this._rasterTexture&&(a?(this._updateColormapTexture(t),this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=h(t,this.transformGrid))):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender())}_createOrDestroyRasterTexture(t){var e,s;const r=this.source?n(this.source,this.bandIds):null;if(!(r&&r.pixels&&r.pixels.length>0))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const i=null==this._rasterTextureBandIds&&null==this.bandIds||this._rasterTextureBandIds&&this.bandIds&&this._rasterTextureBandIds.join(\"\")===this.bandIds.join(\"\");if(this._rasterTexture){if(i)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}const a=this.interpolation||\"nearest\",o=this.isRendereredSource||!(null!=(e=t.capabilities.textureFloat)&&e.textureFloat);this._rasterTexture=d(t,r,a,o),this._supportsBilinear=null==(s=t.capabilities.textureFloat)?void 0:s.textureFloatLinear,this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_updateColormapTexture(t){const e=this._colormap,s=this.symbolizerParameters.colormap;return s?e?s.length!==e.length||s.some(((t,s)=>t!==e[s]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=m(t,s),void(this._colormap=s)):void 0:(this._colormapTexture=m(t,s),void(this._colormap=s)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}}export{x as RasterBitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{RasterBitmap as t}from\"./RasterBitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class e extends s{constructor(s,e,i,a=null){super(s,e,i),this.bitmap=new t(a,null,null),this.bitmap.coordScale=i,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}getMemoryUsage(){return this.bitmap.getMemoryUsage()}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{e as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as t}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e);return new i(e,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[t.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}_getTileBounds(t){const i=this._tileInfoView.getTileBounds(e(),t);if(this.isCustomTilingScheme&&t.world){const{tileInfo:e}=this._tileInfoView,r=s(e.spatialReference);if(r){const{resolution:s}=e.lodAt(t.level),o=r/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*t.world,i[2]-=n*t.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as a,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const p=p=>{let u=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s}));const{popupEnabled:a}=s,n=l(s,o);if(!a||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const p=[],{value:u}=await s.identify(e);let f=\"\";if(u&&u.length){var m,c;f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(m=s.rasterInfo)||null==(c=m.attributeTable)?void 0:c.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=new t(this.fullExtent.clone(),null,e);o.layer=s,o.sourceLayer=o.layer,p.push(o)}return p}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const i=a(this.layer.fullExtent,this.view.spatialReference,!1),o=n(this.layer.fullExtent,this.view.spatialReference,i);return null==o&&(t=new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",o),this.datumTransformation||(this.datumTransformation=a(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullExtent\",void 0),e([o()],u.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],u.prototype,\"hasTilingEffects\",null),u=e([s(\"esri.views.layers.ImageryTileLayerView\")],u),u};export default p;export{p as ImageryTileLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as a,isAbortError as o,createAbortController as l,eachAlways as n}from\"../../../core/promiseUtils.js\";import{createScreenPoint as h}from\"../../../core/screenUtils.js\";import{watch as c}from\"../../../core/watchUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../layers/support/PixelBlock.js\";import d from\"../../../layers/support/TileInfo.js\";import{update as y,unregister as _,register as g,getRasterId as b}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as f}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{RasterTileContainer as I}from\"../engine/RasterTileContainer.js\";import{LayerView2DMixin as P}from\"./LayerView2D.js\";import R from\"../tiling/TileInfoView.js\";import C from\"../tiling/TileQueue.js\";import S from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as U}from\"../../layers/ImageryTileLayerView.js\";import v from\"../../layers/LayerView.js\";import{RefreshableLayerView as T}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as x}from\"../../support/drapedUtils.js\";import z from\"../../webgl/capabilities.js\";import k from\"../../../geometry/Extent.js\";import j from\"../../../geometry/Point.js\";const V=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),L=[0,0];let q=class extends(U(T(P(v)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._bitmapView=null,this._emptyTilePixelBlock=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.useWebGLForProcessing=!0,this._redrawOrRefreshDebounced=a(((e,t)=>e?(this._set(\"refreshTimestamp\",Date.now()),this.doRefresh()):this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this._bitmapView.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(h(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var a;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:k.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(a=this._previousLOD)?void 0:a.level)!==r.level&&(this._previousLOD=r,null!=this._symbolizerParams&&this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),z().supportsTextureFloat||(this.useWebGLForProcessing=!1),this.layer.raster&&(this.layer.raster.ioConfig.allowPartialFill=!0),this._initializeTileInfo(),this._tileInfoView=new R(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new C({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._bitmapView=new I(this._tileInfoView),this._bitmapView.isCustomTilingScheme=this._isCustomTilingScheme,this.container.addChild(this._bitmapView),this.handles.add([c(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),a=s||r;this._redrawOrRefreshDebounced(a).catch((e=>{o(e)||V.error(e)}))}))],\"attach\"),this._updateBlockCacheRegistry()}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,_(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=l(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return x(e,t,this.view)}async doRefresh(){if(this.suspended)return;this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await n(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(L,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,a=this._canUseWebGLForProcessing(),o={tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:a,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:a?\"nearest\":this.layer.interpolation};return this.layer.fetchTile(e.level,e.row,e.col,o)}_canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new j({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),a=d.create({spatialReference:e,size:512,scales:i});(0===a.origin.x||a.origin.x>t.x)&&(a.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",a),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&V.error(i)}this._globalUpdateRequested=!1}const a=this._canUseWebGLForProcessing();if(a&&!this.hasTilingEffects&&null==this._symbolizerParams&&this._updateSymbolizerParams(),t&&t.pixelBlock){const i={extent:t.extent,pixelBlock:t.pixelBlock};if(e.bitmap.rawPixelData=i,a)e.bitmap.source=t.pixelBlock,e.bitmap.isRendereredSource=!1;else{const t=await this.layer.applyRenderer(i,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null);e.bitmap.source=t,e.bitmap.isRendereredSource=!0}e.bitmap.symbolizerParameters=a?this._globalSymbolizerParams||this._symbolizerParams:null,a?e.bitmap.transformGrid||(e.bitmap.transformGrid=t.transformGrid):e.bitmap.transformGrid=null}else{const t=this._createEmptyTilePixelBlock();e.bitmap.source=t,e.bitmap.symbolizerParameters=a?this._symbolizerParams:null,e.bitmap.transformGrid=null}e.bitmap.bandIds=s,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=r,e.bitmap.invalidateTexture(),e.once(\"attach\",(()=>this.requestUpdate())),this._bitmapView.addChild(e)}catch(i){o(i)||V.error(i)}this.requestUpdate()}}async _redrawImage(e){this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const{bandIds:t}=this.layer,i=this._bitmapView.children.map((async e=>{const i=this._canUseWebGLForProcessing();!i&&e.bitmap.rawPixelData?(e.bitmap.source=await this.layer.applyRenderer(e.bitmap.rawPixelData,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null),e.bitmap.isRendereredSource=!0):(e.bitmap.isRendereredSource&&e.bitmap.rawPixelData&&(e.bitmap.source=e.bitmap.rawPixelData.pixelBlock),e.bitmap.isRendereredSource=!1),e.bitmap.symbolizerParameters=i?this._globalSymbolizerParams||this._symbolizerParams:null,e.bitmap.bandIds=t,e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=!1}));await n(i),this.container.requestRender()}_createEmptyTilePixelBlock(){if(!this._emptyTilePixelBlock){const e=this._tileInfoView.tileInfo.size[0],t=this._tileInfoView.tileInfo.size[1];this._emptyTilePixelBlock=new p({width:e,height:t,pixels:[new Uint8Array(e*t)],mask:new Uint8Array(e*t),pixelType:\"u8\"})}return this._emptyTilePixelBlock}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:f(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this._canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,a=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,o=b(t,a);if(o!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&_(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(o,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];y(o,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=o}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"nearest\":this.layer.interpolation}};e([u()],q.prototype,\"useProgressiveUpdate\",null),q=e([m(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var D=q;export default D;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),p=e([a(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{};e=r([s(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};e([r({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),e([r({readOnly:!0})],c.prototype,\"version\",null),c=y=e([o(\"esri.views.layers.support.Geometry\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as a}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([o(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default o;export{i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as t}from\"../../../core/unitUtils.js\";import{isLoaded as o,isSupported as r,load as i,getTransformation as a,project as s}from\"../../../geometry/projection.js\";import{project as l}from\"../../../geometry/support/webMercatorUtils.js\";import c from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const m=5e-4,u=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},f=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},p={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54099:13524439.768288724,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},h=32;async function y(){if(o()||!r())return null;await i()}function M(n,t,r){if(!u(n.spatialReference,t))return null;if(!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return r?a(t,n.spatialReference,n):a(n.spatialReference,t,n)}function g(n,t,r,i=null){if(n.spatialReference.equals(t))return n;const a=u(n.spatialReference,t);if(a&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=r.center,m=new c({xmin:x.x-n.x/2,xmax:x.x+n.x/2,ymin:x.y-n.y/2,ymax:x.y+n.y/2,spatialReference:n.spatialReference}),f=a?s(m,t,i):l(m,t);if(null==f)return null;return{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function d(e,n=.01){return t(e)?n/t(e):0}function w(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=c?s(n,t,r):l(n,t);if(x&&i&&t.isGeographic){const[e,t]=v(a,!0),o=d(a);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<m?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<m&&(x.x+=360))}return x}function R(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new c({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function j(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=W(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return b(e,t,o,r);return R(e.clone().normalize().map((e=>b(e,t,o,r))))}function b(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const f=c?s(n,t,r):l(n,t);let[p,h]=v(a,!0);if(f&&i&&a.isWebMercator&&t.isGeographic&&null!=p&&null!=h){const e=.001,o=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>o&&Math.abs(180-f.xmax)<m){f.xmin=-180;const e=[];e.push(new x(n.xmax,n.ymin,a)),e.push(new x(n.xmax,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmax,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmax=Math.max.apply(null,o)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>o&&Math.abs(180+f.xmin)<m){f.xmax=180;const e=[];e.push(new x(n.xmin,n.ymin,a)),e.push(new x(n.xmin,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmin,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmin=Math.min.apply(null,o)}}[p,h]=v(t,!0);const y=d(t);return y&&null!=p&&null!=h&&(Math.abs(f.xmin-p)<y&&(f.xmin=p),Math.abs(f.xmax-h)<y&&(f.xmax=h)),f}function S(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*p[e.wkid]||null}function v(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function N(e,n,t,o){let r=(e-n)/t;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function W(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return N(e.xmax,r,o,!0)-N(e.xmin,r,o,!1)}function z(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const u=[],f=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=f?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,f=(c-Math.round(h/m)%c)%c;u.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:f,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:u,hasGCSSShiftTransform:f}}function G(t,r,i,a=null,s=null,l=!1,c=[h,h]){if(u(t.spatialReference,r.spatialReference)&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&r&&i))return null;const{xmin:m,ymin:p,xmax:y,ymax:M}=t,g=t.spatialReference,d=r.spatialReference,R=S(d);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((y-m)/j.x-.1)+1,rows:Math.ceil((M-p)/j.y-.1)+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let o=0;o<b.rows;o++){let i=w(new x({x:m+v*e,y:M-N*o,spatialReference:g}),d,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[o]&&n(R)&&i.x<z[o].x&&(i.x+=R),i?(W.push((i.x-r.xmin)/(r.xmax-r.xmin)),W.push((r.ymax-i.y)/(r.ymax-r.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=f(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let n=0;n<b.rows-1;n++){let t=e*b.rows*2+2*n;const o=W[t],r=W[t+1],i=W[t+2],a=W[t+3];t+=2*b.rows;const s=W[t],l=W[t+1],c=W[t+2],x=W[t+3];let m=0,u=12*(n*(b.cols-1)+e);for(let e=0;e<3;e++)C[u++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function P(e){const n=e.clone().normalize();return 1===n.length?n[0]:R(n)}function C(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,m=(i.x+i.y)/2;if(n<=m)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=m;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const u=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new x({x:u.x,y:u.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,m=Math.log(e.y/i.y)/Math.LN2,u=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,m)):\"up\"===o?Math.ceil(Math.max(c,m)):Math.round((c+m)/2),a<0?a=0:a>u&&(s=a>u+3,a=u);const f=2**a;return{pyramidLevel:a,pyramidResolution:new x({x:f*t.nativePixelSize.x,y:f*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function L(e,n,o=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new x({x:s.x,y:s.y,spatialReference:a}),n,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,m=t(n),u=c*m*96*39.37,f=n.isGeographic?256/o*295828763.7958547:256/o*591657527.591555;let p=!1;const h=j(i,n);r&&(n.isGeographic||n.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=u;const d=1.001;if(p){M=f;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*m*39.37),o=n.isGeographic?4326:3857;y=g(new x({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/t,y.y*=M/t}else{y={x:s.x,y:s.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;M<f*(d/2)&&t<n;)t++,M*=2,y.x*=2,y.y*=2;Math.max(M,f)/Math.min(M,f)<=d&&(M=f)}const w=[M],R=[{x:y.x,y:y.y}],b=70.5310735,S=Math.min(b,u)/d;for(;M>=S;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{L as computeProjectedScales,h as defaultGridSpacing,M as getDefaultDatumTransformationForDataset,G as getProjectionOffsetGrid,z as getRasterDatasetAlignmentInfo,W as getWorldWrapCount,y as load,j as projectExtent,w as projectPoint,g as projectResolution,P as snapExtent,C as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"sourceRoot":""}